import S from"./index.COCv7IfJ.js";import{u as B}from"./useRequest.BTeUhkZU.js";import"./subscribeFocus.DWRnlB-b.js";import{u as b}from"./useVModel.B3T_6bw2.js";import{c as $}from"./create.BCteNkO5.js";import{d as A,v as C,h as I,s as E,o as m,c as u,I as P,M as R,k as l,ar as V,n as c,r as q,e as z,_ as G}from"./framework.DZLrHpBd.js";import"./index.vue_vue_type_style_index_0_lang.4YtChnIg.js";import"./format.B9x3PRfW.js";import"./Uint8Array.s5ylH1oV.js";import"./index.DRl9oU4h.js";import"./index.HvtGSUcZ.js";import"./index.DDh5KGTp.js";import"./index.vue_vue_type_style_index_0_lang.wdkJ4pUc.js";import"./index.vue_vue_type_style_index_0_lang.CONbIPVp.js";import"./index.vue_vue_type_style_index_0_lang.Dn-ILA_D.js";import"./index.vue_vue_type_style_index_0_lang.CLMwwCle.js";import"./index.DDAPD5pV.js";import"./index.DItzrnwf.js";import"./isEmpty.Ts5sY4Hd.js";import"./isEqual.TBi3dbYN.js";const H={name:"ProSelect",options:{virtualHost:!0}},L=A({...H,props:{clear:{type:Boolean},placeholder:{},multiple:{type:Boolean},arrow:{type:Boolean,default:!0},params:{},value:{},width:{},block:{type:Boolean},inputAlign:{default:"right"},request:{},fieldNames:{}},emits:["update:value"],setup(d,{expose:f,emit:v}){const[U,i]=$("pro-select"),a=d,s=b(a,"value",v),n=10;C(()=>a.params,()=>{k()});const{data:o,loadingMore:h,loadMore:w,reload:k}=B(async e=>{const r=e?Math.ceil(e.list.length/n)+1:1;return a.request({current:r,pageSize:n,...a.params}).then(t=>Array.isArray(t)?{list:t,total:t.length}:{list:t.data,total:t.total})}),y=I(()=>{var e;return o.value&&((e=o.value)==null?void 0:e.list.length)<o.value.total}),g=()=>{h&&y.value&&w()},p=E(),M=()=>{var e;(e=p.value)==null||e.open()};return f({data:o}),(e,r)=>{var t;return m(),u("div",{class:c(l(i)({block:e.block,flex:e.$slots.extra}))},[P(S,R({ref_key:"selectRef",ref:p,value:l(s),"onUpdate:value":r[0]||(r[0]=N=>V(s)?s.value=N:null),multiple:e.multiple,options:(t=l(o))==null?void 0:t.list,fieldNames:e.fieldNames,placeholder:e.placeholder,width:e.width,onLoadMore:g,arrow:e.arrow&&!e.$slots.extra,clear:e.clear},e.$attrs),null,16,["value","multiple","options","fieldNames","placeholder","width","arrow","clear"]),e.$slots.extra?(m(),u("div",{key:0,class:c(l(i)("extra")),onClick:M},[q(e.$slots,"extra",{},void 0,!0)],2)):z("",!0)],2)}}}),ie=G(L,[["__scopeId","data-v-e357bd60"]]);export{ie as default};
