import{a as o,o as g,i as p}from"./format.B9x3PRfW.js";import{c as b}from"./create.BCteNkO5.js";import{_ as f}from"./index.vue_vue_type_style_index_0_lang.wdkJ4pUc.js";import{d as S,s as w,h as n,o as a,c as r,n as i,k as l,r as d,F as B,t as C,b as y,P as _,e as $,a as E,_ as N}from"./framework.DZLrHpBd.js";import"./Uint8Array.s5ylH1oV.js";const D=["src","alt"],F={key:0},H={name:"rl-avatar",options:{virtualHost:!0}},I=S({...H,props:{shape:{default:"round"},block:{type:Boolean},src:{},size:{default:"middle"},width:{},height:{},text:{},icon:{},iconColor:{},iconSize:{},alt:{},background:{},radius:{}},setup(h){const[T,t]=b("avatar"),s=h,c=w(!1),k=()=>{c.value=!0},v=n(()=>s.src),u=n(()=>typeof s.size=="string"&&["large","middle","small"].includes(s.size)),z=n(()=>{let e=u.value?g({width:o(s.width),height:o(s.height)}):{width:o(s.size),height:o(s.size),fontSize:s.icon?o(+s.size/2):o(+s.size/2.5)};return p(s.background)&&(e.background=s.background),p(s.radius)&&(e.overflow="hidden",e.borderRadius=o(s.radius)),e});return(e,U)=>{var m;return a(),r("div",{class:i(l(t)([e.shape,{[e.size]:u.value,block:e.block}])),style:_(z.value)},[e.icon||e.$slots.default?(a(),r("div",{key:0,class:i(l(t)("icon"))},[d(e.$slots,"default",{},()=>[e.icon?(a(),y(f,{key:0,size:e.iconSize,color:e.iconColor,type:e.icon},null,8,["size","color","type"])):$("",!0)],!0)],2)):(a(),r(B,{key:1},[c.value?(a(),r("div",{key:0,class:i(l(t)("error"))},[d(e.$slots,"error",{},()=>[d(e.$slots,"error",{},()=>[E(" 加载失败 ")],!0)],!0)],2)):v.value?(a(),r("image",{key:1,onError:k,class:i(l(t)("img")),src:e.src,alt:e.alt},null,42,D)):(a(),r("div",{key:2,class:i(l(t)("text"))},[e.text?(a(),r("span",F,C((m=e.text)==null?void 0:m[0]),1)):(a(),y(f,{key:1,type:"user"}))],2))],64))],6)}}}),q=N(I,[["__scopeId","data-v-bd644a1a"]]);export{q as default};
