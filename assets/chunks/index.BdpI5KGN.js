import{d as I,Y as J,o as i,b as h,w as m,r as M,N as K,h as v,e as C,n as k,s as N,v as Q,D as W,c as b,j as Z,I as y,k as _,a1 as ee,P as F,F as te,E as ae,a as L,t as le,_ as re}from"./framework.CTHohdEj.js";import{_ as se}from"./index.vue_vue_type_style_index_0_lang.Chez79-0.js";import oe from"./index.CVRGGANE.js";import{_ as ne}from"./index.vue_vue_type_style_index_0_lang.BdyYrVrH.js";import{_ as ue}from"./index.vue_vue_type_style_index_0_lang.X0-ajfyv.js";import"./subscribeFocus.BcBnV_Yo.js";import{u as ie}from"./useVModel.Wt5MMcj7.js";import{f as V,t as x,o as ce,a as j,h as S}from"./format.B9x3PRfW.js";import{_ as B}from"./index.vue_vue_type_style_index_0_lang.Dvt3Q--O.js";import{_ as de}from"./index.vue_vue_type_style_index_0_lang.PIzU7Lxv.js";import pe from"./index.6qFy0Bbs.js";import fe from"./index.KSq60IQY.js";import{c as me}from"./create.BCteNkO5.js";import{a as H,q as ve,k as he}from"./Uint8Array.s5ylH1oV.js";import{t as ye,i as _e}from"./isEqual.TBi3dbYN.js";import{i as g}from"./isEmpty.Ts5sY4Hd.js";import"./index.DNOcZ7zE.js";import"./index.Bqu_uprM.js";var T=1/0,ke=17976931348623157e292;function be(a){if(!a)return a===0?a:0;if(a=ye(a),a===T||a===-T){var l=a<0?-1:1;return l*ke}return a===a?a:0}function ge(a){var l=be(a),s=l%1;return l===l?s?l-s:l:0}function Ce(a,l,s,c){for(var r=a.length,n=s+-1;++n<r;)if(l(a[n],n,a))return n;return-1}function we(){if(!arguments.length)return[];var a=arguments[0];return H(a)?a:[a]}function xe(a){return function(l,s,c){var r=Object(l);if(!ve(l)){var n=V(s);l=he(l),s=function(t){return n(r[t],t,r)}}var o=a(l,s,c);return o>-1?r[n?l[o]:o]:void 0}}var $e=Math.max;function Ne(a,l,s){var c=a==null?0:a.length;if(!c)return-1;var r=s==null?0:ge(s);return r<0&&(r=$e(c+r,0)),Ce(a,V(l),r)}var Se=xe(Ne);const Be={name:"CheckList",options:{virtualHost:!0,multipleSlots:!0}},Ie=I({...Be,props:{value:{},multiple:{type:Boolean},disabled:{type:Boolean}},emits:["update:value"],setup(a,{emit:l}){const s=a,r=ie(s,"value",l);return J("context",{value:r,check:t=>{s.multiple?r.value.push(t):r.value=[t]},uncheck:t=>{r.value=r.value.filter(d=>x(d)!==x(t))}}),(t,d)=>(i(),h(ue,{mode:"default"},{default:m(()=>[M(t.$slots,"default")]),_:3}))}}),Me={name:"CheckListItem",options:{styleIsolation:"apply-shared",virtualHost:!0,multipleSlots:!0}},Ae=I({...Me,props:{value:{}},setup(a){const l=a,s="check-list-item",c=K("context"),r=v(()=>c.value.value.some(o=>x(o)===x(l.value))),n=()=>{r.value?c.uncheck(l.value):c.check(l.value)};return(o,t)=>(i(),h(de,{class:k([s,{[`${s}-active`]:r.value}]),onTap:n},{extra:m(()=>[r.value?(i(),h(B,{key:0,color:"#0173fc",size:"16",type:"CheckOutline"})):C("",!0)]),default:m(()=>[M(o.$slots,"default")]),_:3},8,["class"]))}}),Ee={key:2,class:"px-10px py-10px"},Oe={name:"rl-select",options:{styleIsolation:"shared",virtualHost:!0,multipleSlots:!0}},Re=I({...Oe,props:{arrow:{type:Boolean},clear:{type:Boolean},disabled:{type:Boolean},readOnly:{type:Boolean},value:{},multiple:{type:Boolean,default:!1},placeholder:{default:"请选择"},search:{type:Boolean},bgColor:{},radius:{},width:{},options:{default:()=>[]},fieldNames:{default:()=>({label:"label",value:"value"})}},emits:["update:value","loadMore","search"],setup(a,{expose:l,emit:s}){const[c,r]=me("select"),n=N(),o=N([]),t=a,d=s,z=v(()=>ce({width:j(t.width),borderRadius:j(t.radius),background:t.bgColor})),$=e=>{d("search",e)},A=v(()=>{let e=t.value;return typeof t.value=="number"&&(e=!0),typeof t.value=="object"&&!g(t.value)&&(e=!0),t.clear&&e}),D=v(()=>!A.value&&t.arrow),U=()=>{t.multiple?d("update:value",[]):d("update:value",void 0)},w=N(!1),E=()=>{t.disabled||t.readOnly||(n.value.open(),w.value=!0)},q=()=>{w.value=!1},P=v(()=>({transform:`rotate(${w.value?"-90deg":"90deg"})`,transition:"transform 0.3s"})),Y=()=>{if(n.value.close(),w.value=!1,g(o.value))return d("update:value",void 0);t.multiple?d("update:value",o.value):d("update:value",o.value[0])};Q(()=>t.value,(e,u)=>{var f;t.multiple?H(e)&&(!_e(o.value,e)&&(o.value=e),console.log("multiple newVal",e)):(console.log("newVal",e),e!==((f=o.value)==null?void 0:f[0])&&(o.value[0]=e))},{immediate:!0});const G=v(()=>{const e=we(t.value);if(!(g(e)||g(t.options)||typeof e[0]>"u"))return e.map(u=>{const f=Se(t.options,p=>S(p,t.fieldNames.value)==u);return R(f)}).join("、")}),O=v(()=>{var f;const{label:e,value:u}=t.fieldNames;return e==="label"&&u==="value"?t.options:(f=t.options)==null?void 0:f.map(p=>({value:S(p,u),label:R(p)}))}),X=()=>{d("loadMore")},R=e=>{const{label:u}=t.fieldNames;return typeof u=="function"?u(e):S(e,u)};return l({open:E}),(e,u)=>{const f=W("scroll-view");return i(),b("div",{class:k(_(r)({disabled:e.disabled}))},[Z("div",{style:F(z.value),class:k(_(r)("content")),onClick:E},[y(se,{disabled:e.disabled,readOnly:!0,value:G.value,placeholder:e.placeholder},null,8,["disabled","value","placeholder"]),e.arrow||e.$slots.extra||e.clear?(i(),b("div",{key:0,class:k(_(r)("content__extra"))},[A.value?(i(),h(B,{key:0,onTap:ee(U,["stop"]),type:"close"})):C("",!0),M(e.$slots,"extra",{},()=>[D.value&&!e.readOnly?(i(),h(B,{key:0,style:F(P.value),type:"RightOutline"},null,8,["style"])):C("",!0)],!0)],2)):C("",!0)],6),y(oe,{maskClick:q,style:{"text-align":"left"},ref_key:"drawerRef",ref:n,title:e.placeholder},{default:m(()=>[e.search?(i(),h(pe,{key:0,style:{margin:"0 12px 10px 12px"},onSearch:$,onClear:$,onClickIcon:$})):C("",!0),y(f,{"scroll-y":"",onScrolltolower:X,class:k(_(r)("scroll-view"))},{default:m(()=>[y(Ie,{multiple:e.multiple,value:o.value,"onUpdate:value":u[0]||(u[0]=p=>o.value=p)},{default:m(()=>[(i(!0),b(te,null,ae(O.value,p=>(i(),h(Ae,{key:p.value,value:p.value},{default:m(()=>[L(le(p.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["multiple","value"])]),_:1},8,["class"]),_(g)(O.value)?(i(),b("div",{key:1,class:k(_(r)("empty"))},[y(fe,{description:"暂无数据"})],2)):(i(),b("div",Ee,[y(ne,{block:"",type:"primary",onClick:Y},{default:m(()=>[L(" 确定 ")]),_:1})]))]),_:1},8,["title"])],2)}}}),Ze=re(Re,[["__scopeId","data-v-f23a1ad4"]]);export{Ze as default};
