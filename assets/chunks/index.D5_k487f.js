import{d as N,s as m,h as n,D as R,o as l,b as f,w as M,k as t,ar as P,j as z,I as y,c as v,a1 as k,n as i,e as u,r as D,P as E,_ as j}from"./framework.CTHohdEj.js";import{_ as H}from"./index.vue_vue_type_style_index_0_lang.Chez79-0.js";import{_ as h}from"./index.vue_vue_type_style_index_0_lang.Dvt3Q--O.js";import{c as U}from"./create.BCteNkO5.js";import"./subscribeFocus.BcBnV_Yo.js";import{u as q}from"./useVModel.Wt5MMcj7.js";import{i as c}from"./isEmpty.Ts5sY4Hd.js";import"./format.B9x3PRfW.js";import"./Uint8Array.s5ylH1oV.js";const x={name:"DatePicker",options:{virtualHost:!0}},F=N({...x,props:{readOnly:{type:Boolean},disable:{type:Boolean},hideSecond:{type:Boolean},clearIcon:{type:Boolean,default:!0},start:{},value:{},arrow:{type:Boolean},type:{default:"datetime"},placeholder:{default:"请选择"}},emits:["update:value"],setup(_,{emit:C}){const[g,d]=U("date-picker"),o=_,e=q(o,"value",C),s=m(),B=()=>{s.value.clear()},r=m(!1),V=()=>{r.value=!1},w=()=>{r.value=!1},$=()=>{s.value.show(),r.value=!0},S=n(()=>({transform:`rotate(${r.value?"-90deg":"90deg"})`,transition:"transform 0.3s"})),b=n(()=>o.type==="daterange"||o.type==="datetimerange"?"开始日期  -  结束日期":o.placeholder),O=n(()=>Array.isArray(e.value)?c(e.value)?"":`${e.value[0]} - ${e.value[1]}`:e.value);return(a,p)=>{const A=R("uni-datetime-picker");return l(),f(A,{ref_key:"dateRef",ref:s,type:a.type,disabled:a.readOnly,"clear-icon":!1,start:a.start,"hide-second":a.hideSecond,onMaskClick:w,onChange:V,modelValue:t(e),"onUpdate:modelValue":p[0]||(p[0]=I=>P(e)?e.value=I:null)},{default:M(()=>[z("div",{onClick:k($,["stop"]),class:i(t(g))},[y(H,{style:{flex:"1"},readOnly:!0,value:O.value,placeholder:b.value},null,8,["value","placeholder"]),!t(c)(t(e))&&a.clearIcon&&!a.readOnly?(l(),v("div",{key:0,onClick:k(B,["stop"]),class:i(t(d)("icon"))},[y(h,{type:"close"})],2)):u("",!0),a.arrow||a.$slots.extra?(l(),v("div",{key:1,class:i(t(d)("extra"))},[D(a.$slots,"extra",{},()=>[t(c)(t(e))?(l(),f(h,{key:0,style:E(S.value),type:"RightOutline"},null,8,["style"])):u("",!0)],!0)],2)):u("",!0)],2)]),_:3},8,["type","disabled","start","hide-second","modelValue"])}}}),ee=j(F,[["__scopeId","data-v-f35acd87"]]);export{ee as default};
