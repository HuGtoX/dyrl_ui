import{j as oe,u as Ae,o as ne,k as le,v as se,t as Te,w as Pe,x as we,U as Rt,S as Wt,r as Ce,y as Me,i as ce,c as Ft,z as vt,A as he,d as De,f as _e,a as Fe,p as Le,g as ke}from"./Uint8Array.s5ylH1oV.js";import{d as Ie,s as Bt,x as Oe,y as ze,o as Ee,c as Re,j as We,_ as Be}from"./framework.DZLrHpBd.js";var Gt=Object.create,Ge=function(){function a(){}return function(t){if(!oe(t))return{};if(Gt)return Gt(t);a.prototype=t;var r=new a;return a.prototype=void 0,r}}();function je(a,t){var r=-1,e=a.length;for(t||(t=Array(e));++r<e;)t[r]=a[r];return t}function Xe(a,t){for(var r=-1,e=a==null?0:a.length;++r<e&&t(a[r],r,a)!==!1;);return a}function bt(a,t,r,e){var o=!r;r||(r={});for(var i=-1,l=t.length;++i<l;){var s=t[i],n=void 0;n===void 0&&(n=a[s]),o?Ae(r,s,n):ne(r,s,n)}return r}function Ne(a,t){return a&&bt(t,le(t),a)}function He(a,t){return a&&bt(t,se(t),a)}var fe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,jt=fe&&typeof module=="object"&&module&&!module.nodeType&&module,$e=jt&&jt.exports===fe,Xt=$e?Te.Buffer:void 0,Nt=Xt?Xt.allocUnsafe:void 0;function Ye(a,t){if(t)return a.slice();var r=a.length,e=Nt?Nt(r):new a.constructor(r);return a.copy(e),e}function Ue(a,t){return bt(a,Pe(a),t)}function qe(a,t){return bt(a,we(a),t)}var Je=Object.prototype,Ke=Je.hasOwnProperty;function Ze(a){var t=a.length,r=new a.constructor(t);return t&&typeof a[0]=="string"&&Ke.call(a,"index")&&(r.index=a.index,r.input=a.input),r}function Lt(a){var t=new a.constructor(a.byteLength);return new Rt(t).set(new Rt(a)),t}function Qe(a,t){var r=t?Lt(a.buffer):a.buffer;return new a.constructor(r,a.byteOffset,a.byteLength)}var Ve=/\w*$/;function ti(a){var t=new a.constructor(a.source,Ve.exec(a));return t.lastIndex=a.lastIndex,t}var Ht=Wt?Wt.prototype:void 0,$t=Ht?Ht.valueOf:void 0;function ei(a){return $t?Object($t.call(a)):{}}function ii(a,t){var r=t?Lt(a.buffer):a.buffer;return new a.constructor(r,a.byteOffset,a.length)}var ai="[object Boolean]",ri="[object Date]",oi="[object Map]",ni="[object Number]",li="[object RegExp]",si="[object Set]",ci="[object String]",hi="[object Symbol]",fi="[object ArrayBuffer]",xi="[object DataView]",pi="[object Float32Array]",di="[object Float64Array]",ui="[object Int8Array]",gi="[object Int16Array]",yi="[object Int32Array]",mi="[object Uint8Array]",vi="[object Uint8ClampedArray]",Si="[object Uint16Array]",bi="[object Uint32Array]";function Ai(a,t,r){var e=a.constructor;switch(t){case fi:return Lt(a);case ai:case ri:return new e(+a);case xi:return Qe(a,r);case pi:case di:case ui:case gi:case yi:case mi:case vi:case Si:case bi:return ii(a,r);case oi:return new e;case ni:case ci:return new e(a);case li:return ti(a);case si:return new e;case hi:return ei(a)}}function Ti(a){return typeof a.constructor=="function"&&!Ce(a)?Ge(Me(a)):{}}var Pi="[object Map]";function wi(a){return ce(a)&&Ft(a)==Pi}var Yt=vt&&vt.isMap,Ci=Yt?he(Yt):wi,Mi="[object Set]";function Di(a){return ce(a)&&Ft(a)==Mi}var Ut=vt&&vt.isSet,_i=Ut?he(Ut):Di,Fi=1,Li=2,ki=4,xe="[object Arguments]",Ii="[object Array]",Oi="[object Boolean]",zi="[object Date]",Ei="[object Error]",pe="[object Function]",Ri="[object GeneratorFunction]",Wi="[object Map]",Bi="[object Number]",de="[object Object]",Gi="[object RegExp]",ji="[object Set]",Xi="[object String]",Ni="[object Symbol]",Hi="[object WeakMap]",$i="[object ArrayBuffer]",Yi="[object DataView]",Ui="[object Float32Array]",qi="[object Float64Array]",Ji="[object Int8Array]",Ki="[object Int16Array]",Zi="[object Int32Array]",Qi="[object Uint8Array]",Vi="[object Uint8ClampedArray]",ta="[object Uint16Array]",ea="[object Uint32Array]",N={};N[xe]=N[Ii]=N[$i]=N[Yi]=N[Oi]=N[zi]=N[Ui]=N[qi]=N[Ji]=N[Ki]=N[Zi]=N[Wi]=N[Bi]=N[de]=N[Gi]=N[ji]=N[Xi]=N[Ni]=N[Qi]=N[Vi]=N[ta]=N[ea]=!0;N[Ei]=N[pe]=N[Hi]=!1;function mt(a,t,r,e,o,i){var l,s=t&Fi,n=t&Li,p=t&ki;if(l!==void 0)return l;if(!oe(a))return a;var c=Fe(a);if(c){if(l=Ze(a),!s)return je(a,l)}else{var h=Ft(a),f=h==pe||h==Ri;if(De(a))return Ye(a,s);if(h==de||h==xe||f&&!o){if(l=n||f?{}:Ti(a),!s)return n?qe(a,He(l,a)):Ue(a,Ne(l,a))}else{if(!N[h])return o?a:{};l=Ai(a,h,s)}}i||(i=new _e);var x=i.get(a);if(x)return x;i.set(a,l),_i(a)?a.forEach(function(g){l.add(mt(g,t,r,g,a,i))}):Ci(a)&&a.forEach(function(g,m){l.set(m,mt(g,t,r,m,a,i))});var d=p?n?Le:ke:n?se:le,u=c?void 0:d(a);return Xe(u||a,function(g,m){u&&(m=g,g=a[m]),ne(l,m,mt(g,t,r,m,a,i))}),l}var ia=1,aa=4;function ra(a){return mt(a,ia|aa)}var dt={version:"v2.5.0-20230101",yAxisWidth:15,xAxisHeight:22,padding:[10,10,10,10],rotate:!1,fontSize:13,fontColor:"#666666",dataPointShape:["circle","circle","circle","circle"],color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],linearColor:["#0EE2F8","#2BDCA8","#FA7D8D","#EB88E2","#2AE3A0","#0EE2F8","#EB88E2","#6773E3","#F78A85"],pieChartLinePadding:15,pieChartTextPadding:5,titleFontSize:20,subtitleFontSize:15,radarLabelTextMargin:13},k=function(a,...t){if(a==null)throw new TypeError("[uCharts] Cannot convert undefined or null to object");if(!t||t.length<=0)return a;function r(e,o){for(let i in o)e[i]=e[i]&&e[i].toString()==="[object Object]"?r(e[i],o[i]):e[i]=o[i];return e}return t.forEach(e=>{a=r(a,e)}),a},ot={toFixed:function(t,r){return r=r||2,this.isFloat(t)&&(t=t.toFixed(r)),t},isFloat:function(t){return t%1!==0},approximatelyEqual:function(t,r){return Math.abs(t-r)<1e-10},isSameSign:function(t,r){return Math.abs(t)===t&&Math.abs(r)===r||Math.abs(t)!==t&&Math.abs(r)!==r},isSameXCoordinateArea:function(t,r){return this.isSameSign(t.x,r.x)},isCollision:function(t,r){t.end={},t.end.x=t.start.x+t.width,t.end.y=t.start.y-t.height,r.end={},r.end.x=r.start.x+r.width,r.end.y=r.start.y-r.height;var e=r.start.x>t.end.x||r.end.x<t.start.x||r.end.y>t.start.y||r.start.y<t.end.y;return!e}};function C(a,t){var r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,e=a.replace(r,function(n,p,c,h){return p+p+c+c+h+h}),o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),i=parseInt(o[1],16),l=parseInt(o[2],16),s=parseInt(o[3],16);return"rgba("+i+","+l+","+s+","+t+")"}function qt(a,t,r){if(isNaN(a))throw new Error("[uCharts] series数据需为Number格式");r=r||10,t=t||"upper";for(var e=1;r<1;)r*=10,e*=10;for(t==="upper"?a=Math.ceil(a*e):a=Math.floor(a*e);a%r!==0;)if(t==="upper"){if(a==a+1)break;a++}else a--;return a/e}function oa(a,t,r,e){let o=[];for(let i=0;i<a.length;i++){let l={data:[],name:t[i],color:r[i]};for(let s=0,n=e.length;s<n;s++){if(s<a[i]){l.data.push(null);continue}let p=0;for(let c=0;c<a[i];c++)p+=e[s-c][1];l.data.push(+(p/a[i]).toFixed(3))}o.push(l)}return o}function kt(a,t,r,e,o){var i=o.width-o.area[1]-o.area[3],l=r.eachSpacing*(o.chartData.xAxisData.xAxisPoints.length-1);o.type=="mount"&&o.extra&&o.extra.mount&&o.extra.mount.widthRatio&&o.extra.mount.widthRatio>1&&(o.extra.mount.widthRatio>2&&(o.extra.mount.widthRatio=2),l+=(o.extra.mount.widthRatio-1)*r.eachSpacing);var s=t;return t>=0?(s=0,a.uevent.trigger("scrollLeft"),a.scrollOption.position="left",o.xAxis.scrollPosition="left"):Math.abs(t)>=l-i?(s=i-l,a.uevent.trigger("scrollRight"),a.scrollOption.position="right",o.xAxis.scrollPosition="right"):(a.scrollOption.position=t,o.xAxis.scrollPosition=t),s}function ue(a,t,r){function e(o){for(;o<0;)o+=2*Math.PI;for(;o>2*Math.PI;)o-=2*Math.PI;return o}return a=e(a),t=e(t),r=e(r),t>r&&(r+=2*Math.PI,a<t&&(a+=2*Math.PI)),a>=t&&a<=r}function xt(a,t){function r(h,f){return h[f-1]&&h[f+1]?h[f].y>=Math.max(h[f-1].y,h[f+1].y)||h[f].y<=Math.min(h[f-1].y,h[f+1].y):!1}function e(h,f){return h[f-1]&&h[f+1]?h[f].x>=Math.max(h[f-1].x,h[f+1].x)||h[f].x<=Math.min(h[f-1].x,h[f+1].x):!1}var o=.2,i=.2,l=null,s=null,n=null,p=null;if(t<1?(l=a[0].x+(a[1].x-a[0].x)*o,s=a[0].y+(a[1].y-a[0].y)*o):(l=a[t].x+(a[t+1].x-a[t-1].x)*o,s=a[t].y+(a[t+1].y-a[t-1].y)*o),t>a.length-3){var c=a.length-1;n=a[c].x-(a[c].x-a[c-1].x)*i,p=a[c].y-(a[c].y-a[c-1].y)*i}else n=a[t+1].x-(a[t+2].x-a[t].x)*i,p=a[t+1].y-(a[t+2].y-a[t].y)*i;return r(a,t+1)&&(p=a[t+1].y),r(a,t)&&(s=a[t].y),e(a,t+1)&&(n=a[t+1].x),e(a,t)&&(l=a[t].x),(s>=Math.max(a[t].y,a[t+1].y)||s<=Math.min(a[t].y,a[t+1].y))&&(s=a[t].y),(p>=Math.max(a[t].y,a[t+1].y)||p<=Math.min(a[t].y,a[t+1].y))&&(p=a[t+1].y),(l>=Math.max(a[t].x,a[t+1].x)||l<=Math.min(a[t].x,a[t+1].x))&&(l=a[t].x),(n>=Math.max(a[t].x,a[t+1].x)||n<=Math.min(a[t].x,a[t+1].x))&&(n=a[t+1].x),{ctrA:{x:l,y:s},ctrB:{x:n,y:p}}}function rt(a,t,r){return{x:r.x+a,y:r.y-t}}function na(a,t){if(t)for(;ot.isCollision(a,t);)a.start.x>0?a.start.y--:a.start.x<0||a.start.y>0?a.start.y++:a.start.y--;return a}function la(a,t,r){let e=[];if(a.length>0&&a[0].data.constructor.toString().indexOf("Array")>-1){t._pieSeries_=a;let i=a[0].data;for(var o=0;o<i.length;o++)i[o].formatter=a[0].formatter,i[o].data=i[o].value,e.push(i[o]);t.series=e}else e=a;return e}function wt(a,t,r){for(var e=0,o=0;o<a.length;o++){let i=a[o];if(i.color||(i.color=r.color[e],e=(e+1)%r.color.length),i.linearIndex||(i.linearIndex=o),i.index||(i.index=0),i.type||(i.type=t.type),typeof i.show>"u"&&(i.show=!0),i.type||(i.type=t.type),i.pointShape||(i.pointShape="circle"),!i.legendShape)switch(i.type){case"line":i.legendShape="line";break;case"column":case"bar":i.legendShape="rect";break;case"area":case"mount":i.legendShape="triangle";break;default:i.legendShape="circle"}}return a}function nt(a,t,r,e){var o=t||[];if(a=="custom"&&o.length==0&&(o=e.linearColor),a=="custom"&&o.length<r.length){let l=r.length-o.length;for(var i=0;i<l;i++)o.push(e.linearColor[(i+1)%e.linearColor.length])}return o}function sa(a,t){var r=0,e=t-a;return e>=1e4?r=1e3:e>=1e3?r=100:e>=100?r=10:e>=10?r=5:e>=1?r=1:e>=.1?r=.1:e>=.01?r=.01:e>=.001?r=.001:e>=1e-4?r=1e-4:e>=1e-5?r=1e-5:r=1e-6,{minRange:qt(a,"lower",r),maxRange:qt(t,"upper",r)}}function G(a,t,r){var e=0;if(a=String(a),r=!1,r!==!1&&r!==void 0&&r.setFontSize&&r.measureText)return r.setFontSize(t),r.measureText(a).width;var a=a.split("");for(let i=0;i<a.length;i++){let l=a[i];/[a-zA-Z]/.test(l)?e+=7:/[0-9]/.test(l)?e+=5.5:/\./.test(l)?e+=2.7:/-/.test(l)?e+=3.25:/:/.test(l)?e+=2.5:/[\u4e00-\u9fa5]/.test(l)?e+=10:/\(|\)/.test(l)?e+=3.73:/\s/.test(l)?e+=2.5:/%/.test(l)?e+=8:e+=10}return e*t/10}function At(a){return a.reduce(function(t,r){return(t.data?t.data:t).concat(r.data)},[])}function ge(a,t){for(var r=new Array(t),e=0;e<r.length;e++)r[e]=0;for(var o=0;o<a.length;o++)for(var e=0;e<r.length;e++)r[e]+=a[o].data[e];return a.reduce(function(i,l){return(i.data?i.data:i).concat(l.data).concat(r)},[])}function ct(a,t,r){let e,o;return a.clientX?t.rotate?(o=t.height-a.clientX*t.pix,e=(a.pageY-r.currentTarget.offsetTop-t.height/t.pix/2*(t.pix-1))*t.pix):(e=a.clientX*t.pix,o=(a.pageY-r.currentTarget.offsetTop-t.height/t.pix/2*(t.pix-1))*t.pix):t.rotate?(o=t.height-a.x*t.pix,e=a.y*t.pix):(e=a.x*t.pix,o=a.y*t.pix),{x:e,y:o}}function ut(a,t,r){var e=[],o=[],i=t.constructor.toString().indexOf("Array")>-1;if(i){let s=ye(a);for(var l=0;l<r.length;l++)o.push(s[r[l]])}else o=a;for(let s=0;s<o.length;s++){let n=o[s],p=-1;if(i?p=t[s]:p=t,n.data[p]!==null&&typeof n.data[p]<"u"&&n.show){let c={};c.color=n.color,c.type=n.type,c.style=n.style,c.pointShape=n.pointShape,c.disableLegend=n.disableLegend,c.legendShape=n.legendShape,c.name=n.name,c.show=n.show,c.data=n.formatter?n.formatter(n.data[p]):n.data[p],e.push(c)}}return e}function ca(a,t,r){var e=a.map(function(o){return G(o,t,r)});return Math.max.apply(null,e)}function ha(a){for(var t=2*Math.PI/a,r=[],e=0;e<a;e++)r.push(t*e);return r.map(function(o){return-1*o+Math.PI/2})}function Jt(a,t,r,e,o){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=t.chartData.calPoints?t.chartData.calPoints:[];let s={};if(e.length>0){let c=[];for(let h=0;h<e.length;h++)c.push(l[e[h]]);s=c[0][r[0]]}else for(let c=0;c<l.length;c++)if(l[c][r]){s=l[c][r];break}var n=a.map(function(c){let h=null;return t.categories&&t.categories.length>0&&(h=o[r]),{text:i.formatter?i.formatter(c,h,r,t):c.name+": "+c.data,color:c.color,legendShape:t.extra.tooltip.legendShape=="auto"?c.legendShape:t.extra.tooltip.legendShape}}),p={x:Math.round(s.x),y:Math.round(s.y)};return{textList:n,offset:p}}function fa(a,t,r,e){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},i=t.chartData.xAxisPoints[r]+t.chartData.eachSpacing/2,l=a.map(function(n){return{text:o.formatter?o.formatter(n,e[r],r,t):n.name+": "+n.data,color:n.color,disableLegend:!!n.disableLegend,legendShape:t.extra.tooltip.legendShape=="auto"?n.legendShape:t.extra.tooltip.legendShape}});l=l.filter(function(n){if(n.disableLegend!==!0)return n});var s={x:Math.round(i),y:0};return{textList:l,offset:s}}function xa(a,t,r,e,o,i){var l=r.chartData.calPoints;let s=i.color.upFill,n=i.color.downFill,p=[s,s,n,s];var c=[];t.map(function(x){e==0?x.data[1]-x.data[0]<0?p[1]=n:p[1]=s:(x.data[0]<a[e-1][1]&&(p[0]=n),x.data[1]<x.data[0]&&(p[1]=n),x.data[2]>a[e-1][1]&&(p[2]=s),x.data[3]<a[e-1][1]&&(p[3]=n));let d={text:"开盘："+x.data[0],color:p[0],legendShape:r.extra.tooltip.legendShape=="auto"?x.legendShape:r.extra.tooltip.legendShape},u={text:"收盘："+x.data[1],color:p[1],legendShape:r.extra.tooltip.legendShape=="auto"?x.legendShape:r.extra.tooltip.legendShape},g={text:"最低："+x.data[2],color:p[2],legendShape:r.extra.tooltip.legendShape=="auto"?x.legendShape:r.extra.tooltip.legendShape},m={text:"最高："+x.data[3],color:p[3],legendShape:r.extra.tooltip.legendShape=="auto"?x.legendShape:r.extra.tooltip.legendShape};c.push(d,u,g,m)});var h=[],f={x:0,y:0};for(let x=0;x<l.length;x++){let d=l[x];typeof d[e]<"u"&&d[e]!==null&&h.push(d[e])}return f.x=Math.round(h[0][0].x),{textList:c,offset:f}}function ye(a){let t=[];for(let r=0;r<a.length;r++)a[r].show==!0&&t.push(a[r]);return t}function pa(a,t,r,e){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,i={index:-1,group:[]},l=r.chartData.eachSpacing/2;let s=[];if(t&&t.length>0){if(!r.categories)l=0;else{for(let n=1;n<r.chartData.xAxisPoints.length;n++)s.push(r.chartData.xAxisPoints[n]-l);(r.type=="line"||r.type=="area")&&r.xAxis.boundaryGap=="justify"&&(s=r.chartData.xAxisPoints)}if(me(a,r))if(r.categories)s.forEach(function(n,p){a.x+o+l>n&&(i.index=p)});else{let n=Array(t.length);for(let f=0;f<t.length;f++){n[f]=Array(t[f].length);for(let x=0;x<t[f].length;x++)n[f][x]=Math.abs(t[f][x].x-a.x)}let p=Array(n.length),c=Array(n.length);for(let f=0;f<n.length;f++)p[f]=Math.min.apply(null,n[f]),c[f]=n[f].indexOf(p[f]);let h=Math.min.apply(null,p);i.index=[];for(let f=0;f<p.length;f++)p[f]==h&&(i.group.push(f),i.index.push(c[f]))}}return i}function da(a,t,r,e){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,i={index:-1,group:[]},l=r.chartData.eachSpacing/2;let s=r.chartData.yAxisPoints;return t&&t.length>0&&me(a,r)&&s.forEach(function(n,p){a.y+o+l>n&&(i.index=p)}),i}function ua(a,t,r){let e=-1,o=0;if(ga(a,t.area)){let i=t.points,l=-1;for(let s=0,n=i.length;s<n;s++){let p=i[s];for(let c=0;c<p.length;c++){l+=1;let h=p[c].area;if(h&&a.x>h[0]-o&&a.x<h[2]+o&&a.y>h[1]-o&&a.y<h[3]+o){e=l;break}}}return e}return e}function ga(a,t){return a.x>t.start.x&&a.x<t.end.x&&a.y>t.start.y&&a.y<t.end.y}function me(a,t,r){return a.x<=t.width-t.area[1]+10&&a.x>=t.area[3]-10&&a.y>=t.area[0]&&a.y<=t.height-t.area[2]}function ya(a,t,r){var e=2*Math.PI/r,o=-1;if(It(a,t.center,t.radius)){var i=function(p){return p<0&&(p+=2*Math.PI),p>2*Math.PI&&(p-=2*Math.PI),p},l=Math.atan2(t.center.y-a.y,a.x-t.center.x);l=-1*l,l<0&&(l+=2*Math.PI);var s=t.angleList.map(function(n){return n=i(-1*n),n});s.forEach(function(n,p){var c=i(n-e/2),h=i(n+e/2);h<c&&(h+=2*Math.PI),(l>=c&&l<=h||l+2*Math.PI>=c&&l+2*Math.PI<=h)&&(o=p)})}return o}function ma(a,t){for(var r=-1,e=0,o=t.series.length;e<o;e++){var i=t.series[e];if(a.x>i.funnelArea[0]&&a.x<i.funnelArea[2]&&a.y>i.funnelArea[1]&&a.y<i.funnelArea[3]){r=e;break}}return r}function va(a,t){for(var r=-1,e=0,o=t.length;e<o;e++){var i=t[e];if(a.x>i.area[0]&&a.x<i.area[2]&&a.y>i.area[1]&&a.y<i.area[3]){r=e;break}}return r}function Sa(a,t){for(var r=-1,e=t.chartData.mapData,o=t.series,i=sr(a.y,a.x,e.bounds,e.scale,e.xoffset,e.yoffset),l=[i.x,i.y],s=0,n=o.length;s<n;s++){var p=o[s].geometry.coordinates;if(hr(l,p,t.chartData.mapData.mercator)){r=s;break}}return r}function ba(a,t,r){var e=-1,o=ve(r._series_,r.extra.rose.type,t.radius,t.radius);if(t&&t.center&&It(a,t.center,t.radius)){var i=Math.atan2(t.center.y-a.y,a.x-t.center.x);i=-i,r.extra.rose&&r.extra.rose.offsetAngle&&(i=i-r.extra.rose.offsetAngle*Math.PI/180);for(var l=0,s=o.length;l<s;l++)if(ue(i,o[l]._start_,o[l]._start_+o[l]._rose_proportion_*2*Math.PI)){e=l;break}}return e}function Aa(a,t,r){var e=-1,o=Ot(t.series);if(t&&t.center&&It(a,t.center,t.radius)){var i=Math.atan2(t.center.y-a.y,a.x-t.center.x);i=-i,r.extra.pie&&r.extra.pie.offsetAngle&&(i=i-r.extra.pie.offsetAngle*Math.PI/180),r.extra.ring&&r.extra.ring.offsetAngle&&(i=i-r.extra.ring.offsetAngle*Math.PI/180);for(var l=0,s=o.length;l<s;l++)if(ue(i,o[l]._start_,o[l]._start_+o[l]._proportion_*2*Math.PI)){e=l;break}}return e}function It(a,t,r){return Math.pow(a.x-t.x,2)+Math.pow(a.y-t.y,2)<=Math.pow(r,2)}function pt(a,t){var r=[],e=[];return a.forEach(function(o,i){t.connectNulls?o!==null&&e.push(o):o!==null?e.push(o):(e.length&&r.push(e),e=[])}),e.length&&r.push(e),r}function Ta(a,t,r,e,o){let i={area:{start:{x:0,y:0},end:{x:0,y:0},width:0,height:0,wholeWidth:0,wholeHeight:0},points:[],widthArr:[],heightArr:[]};if(t.legend.show===!1)return e.legendData=i,i;let l=t.legend.padding*t.pix,s=t.legend.margin*t.pix,n=t.legend.fontSize?t.legend.fontSize*t.pix:r.fontSize,p=15*t.pix,c=5*t.pix,h=Math.max(t.legend.lineHeight*t.pix,n);if(t.legend.position=="top"||t.legend.position=="bottom"){let f=[],x=0,d=[],u=[];for(let g=0;g<a.length;g++){let m=a[g];const y=m.legendText?m.legendText:m.name;let v=p+c+G(y||"undefined",n,o)+t.legend.itemGap*t.pix;x+v>t.width-t.area[1]-t.area[3]?(f.push(u),d.push(x-t.legend.itemGap*t.pix),x=v,u=[m]):(x+=v,u.push(m))}if(u.length){f.push(u),d.push(x-t.legend.itemGap*t.pix),i.widthArr=d;let g=Math.max.apply(null,d);switch(t.legend.float){case"left":i.area.start.x=t.area[3],i.area.end.x=t.area[3]+g+2*l;break;case"right":i.area.start.x=t.width-t.area[1]-g-2*l,i.area.end.x=t.width-t.area[1];break;default:i.area.start.x=(t.width-g)/2-l,i.area.end.x=(t.width+g)/2+l}i.area.width=g+2*l,i.area.wholeWidth=g+2*l,i.area.height=f.length*h+2*l,i.area.wholeHeight=f.length*h+2*l+2*s,i.points=f}}else{let f=a.length,x=t.height-t.area[0]-t.area[2]-2*s-2*l,d=Math.min(Math.floor(x/h),f);switch(i.area.height=d*h+l*2,i.area.wholeHeight=d*h+l*2,t.legend.float){case"top":i.area.start.y=t.area[0]+s,i.area.end.y=t.area[0]+s+i.area.height;break;case"bottom":i.area.start.y=t.height-t.area[2]-s-i.area.height,i.area.end.y=t.height-t.area[2]-s;break;default:i.area.start.y=(t.height-i.area.height)/2,i.area.end.y=(t.height+i.area.height)/2}let u=f%d===0?f/d:Math.floor(f/d+1),g=[];for(let m=0;m<u;m++){let y=a.slice(m*d,m*d+d);g.push(y)}if(i.points=g,g.length){for(let y=0;y<g.length;y++){let v=g[y],T=0;for(let w=0;w<v.length;w++){let b=p+c+G(v[w].name||"undefined",n,o)+t.legend.itemGap*t.pix;b>T&&(T=b)}i.widthArr.push(T),i.heightArr.push(v.length*h+l*2)}let m=0;for(let y=0;y<i.widthArr.length;y++)m+=i.widthArr[y];i.area.width=m-t.legend.itemGap*t.pix+2*l,i.area.wholeWidth=i.area.width+l}}switch(t.legend.position){case"top":i.area.start.y=t.area[0]+s,i.area.end.y=t.area[0]+s+i.area.height;break;case"bottom":i.area.start.y=t.height-t.area[2]-i.area.height-s,i.area.end.y=t.height-t.area[2]-s;break;case"left":i.area.start.x=t.area[3],i.area.end.x=t.area[3]+i.area.width;break;case"right":i.area.start.x=t.width-t.area[1]-i.area.width,i.area.end.x=t.width-t.area[1];break}return e.legendData=i,i}function Kt(a,t,r,e,o){var i={angle:0,xAxisHeight:t.xAxis.lineHeight*t.pix+t.xAxis.marginTop*t.pix},l=t.xAxis.fontSize*t.pix,s=a.map(function(p,c){var h=t.xAxis.formatter?t.xAxis.formatter(p,c,t):p;return G(String(h),l,o)}),n=Math.max.apply(this,s);if(t.xAxis.rotateLabel==!0){i.angle=t.xAxis.rotateAngle*Math.PI/180;let p=t.xAxis.marginTop*t.pix*2+Math.abs(n*Math.sin(i.angle));p=p<l+t.xAxis.marginTop*t.pix*2?p+t.xAxis.marginTop*t.pix*2:p,i.xAxisHeight=p}return t.enableScroll&&t.xAxis.scrollShow&&(i.xAxisHeight+=6*t.pix),t.xAxis.disabled&&(i.xAxisHeight=0),i}function Pa(a,t,r,e){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1,i;e=="stack"?i=ge(a,t.categories.length):i=At(a);var l=[];i=i.filter(function(u){return typeof u=="object"&&u!==null?u.constructor.toString().indexOf("Array")>-1?u!==null:u.value!==null:u!==null}),i.map(function(u){typeof u=="object"?u.constructor.toString().indexOf("Array")>-1?t.type=="candle"?u.map(function(g){l.push(g)}):l.push(u[0]):l.push(u.value):l.push(u)});var s=0,n=0;if(l.length>0&&(s=Math.min.apply(this,l),n=Math.max.apply(this,l)),o>-1?(typeof t.xAxis.data[o].min=="number"&&(s=Math.min(t.xAxis.data[o].min,s)),typeof t.xAxis.data[o].max=="number"&&(n=Math.max(t.xAxis.data[o].max,n))):(typeof t.xAxis.min=="number"&&(s=Math.min(t.xAxis.min,s)),typeof t.xAxis.max=="number"&&(n=Math.max(t.xAxis.max,n))),s===n){var p=n||10;n+=p}for(var c=s,h=n,f=[],x=(h-c)/t.xAxis.splitNumber,d=0;d<=t.xAxis.splitNumber;d++)f.push(c+x*d);return f}function wa(a,t,r,e){var o=k({},{type:""},t.extra.bar),i={angle:0,xAxisHeight:t.xAxis.lineHeight*t.pix+t.xAxis.marginTop*t.pix};i.ranges=Pa(a,t,r,o.type),i.rangesFormat=i.ranges.map(function(s){return s=ot.toFixed(s,2),s});var l=i.ranges.map(function(s){return s=ot.toFixed(s,2),s});return i=Object.assign(i,yt(l,t)),i.eachSpacing,l.map(function(s){return G(s,t.xAxis.fontSize*t.pix,e)}),t.xAxis.disabled===!0&&(i.xAxisHeight=0),i}function Ca(a,t,r,e,o){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1,l=o.extra.radar||{};l.max=l.max||0;var s=Math.max(l.max,Math.max.apply(null,At(e))),n=[];for(let p=0;p<e.length;p++){let c=e[p],h={};h.color=c.color,h.legendShape=c.legendShape,h.pointShape=c.pointShape,h.data=[],c.data.forEach(function(f,x){let d={};d.angle=a[x],d.proportion=f/s,d.value=f,d.position=rt(r*d.proportion*i*Math.cos(d.angle),r*d.proportion*i*Math.sin(d.angle),t),h.data.push(d)}),n.push(h)}return n}function Ot(a,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,e=0,o=0;for(let i=0;i<a.length;i++){let l=a[i];l.data=l.data===null?0:l.data,e+=l.data}for(let i=0;i<a.length;i++){let l=a[i];l.data=l.data===null?0:l.data,e===0?l._proportion_=1/a.length*r:l._proportion_=l.data/e*r,l._radius_=t}for(let i=0;i<a.length;i++){let l=a[i];l._start_=o,o+=2*l._proportion_*Math.PI}return a}function Ma(a,t,r,e){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1;for(let i=0;i<a.length;i++)r.type=="funnel"?a[i].radius=a[i].data/a[0].data*t*o:a[i].radius=e*(a.length-i)/(e*a.length)*t*o,a[i]._proportion_=a[i].data/a[0].data;return a}function ve(a,t,r,e){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,i=0,l=0,s=[];for(let h=0;h<a.length;h++){let f=a[h];f.data=f.data===null?0:f.data,i+=f.data,s.push(f.data)}var n=Math.min.apply(null,s),p=Math.max.apply(null,s),c=e-r;for(let h=0;h<a.length;h++){let f=a[h];f.data=f.data===null?0:f.data,i===0?(f._proportion_=1/a.length*o,f._rose_proportion_=1/a.length*o):(f._proportion_=f.data/i*o,t=="area"?f._rose_proportion_=1/a.length*o:f._rose_proportion_=f.data/i*o),f._radius_=r+c*((f.data-n)/(p-n))||e}for(let h=0;h<a.length;h++){let f=a[h];f._start_=l,l+=2*f._rose_proportion_*Math.PI}return a}function Da(a,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;r==1&&(r=.999999);for(let e=0;e<a.length;e++){let o=a[e];o.data=o.data===null?0:o.data;let i;t.type=="circle"?i=2:t.direction=="ccw"?t.startAngle<t.endAngle?i=2+t.startAngle-t.endAngle:i=t.startAngle-t.endAngle:t.endAngle<t.startAngle?i=2+t.endAngle-t.startAngle:i=t.startAngle-t.endAngle,o._proportion_=i*o.data*r+t.startAngle,t.direction=="ccw"&&(o._proportion_=t.startAngle-i*o.data*r),o._proportion_>=2&&(o._proportion_=o._proportion_%2)}return a}function _a(a,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;r==1&&(r=.999999);for(let e=0;e<a.length;e++){let o=a[e];o.data=o.data===null?0:o.data;let i;t.type=="circle"?i=2:t.endAngle<t.startAngle?i=2+t.endAngle-t.startAngle:i=t.startAngle-t.endAngle,o._proportion_=i*o.data*r+t.startAngle,o._proportion_>=2&&(o._proportion_=o._proportion_%2)}return a}function Fa(a,t,r){let e;r<t?e=2+r-t:e=t-r;let o=t;for(let i=0;i<a.length;i++)a[i].value=a[i].value===null?0:a[i].value,a[i]._startAngle_=o,a[i]._endAngle_=e*a[i].value+t,a[i]._endAngle_>=2&&(a[i]._endAngle_=a[i]._endAngle_%2),o=a[i]._endAngle_;return a}function La(a,t,r){let e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;for(let o=0;o<a.length;o++){let i=a[o];if(i.data=i.data===null?0:i.data,r.pointer.color=="auto"){for(let s=0;s<t.length;s++)if(i.data<=t[s].value){i.color=t[s].color;break}}else i.color=r.pointer.color;let l;r.endAngle<r.startAngle?l=2+r.endAngle-r.startAngle:l=r.startAngle-r.endAngle,i._endAngle_=l*i.data+r.startAngle,i._oldAngle_=r.oldAngle,r.oldAngle<r.endAngle&&(i._oldAngle_+=2),i.data>=r.oldData?i._proportion_=(i._endAngle_-i._oldAngle_)*e+r.oldAngle:i._proportion_=i._oldAngle_-(i._oldAngle_-i._endAngle_)*e,i._proportion_>=2&&(i._proportion_=i._proportion_%2)}return a}function ka(a,t,r,e){a=Ot(a);let o=0;for(let i=0;i<a.length;i++){let l=a[i],s=l.formatter?l.formatter(+l._proportion_.toFixed(2)):ot.toFixed(l._proportion_*100)+"%";o=Math.max(o,G(s,l.textSize*e.pix||t.fontSize,r))}return o}function St(a,t,r,e,o,i){return a.map(function(l){if(l===null)return null;var s=0,n=0;return i.type=="mix"?(s=i.extra.mix.column.seriesGap*i.pix||0,n=i.extra.mix.column.categoryGap*i.pix||0):(s=i.extra.column.seriesGap*i.pix||0,n=i.extra.column.categoryGap*i.pix||0),s=Math.min(s,t/r),n=Math.min(n,t/r),l.width=Math.ceil((t-2*n-s*(r-1))/r),i.extra.mix&&i.extra.mix.column.width&&+i.extra.mix.column.width>0&&(l.width=Math.min(l.width,+i.extra.mix.column.width*i.pix)),i.extra.column&&i.extra.column.width&&+i.extra.column.width>0&&(l.width=Math.min(l.width,+i.extra.column.width*i.pix)),l.width<=0&&(l.width=1),l.x+=(e+.5-r/2)*(l.width+s),l})}function Zt(a,t,r,e,o,i){return a.map(function(l){if(l===null)return null;var s=0,n=0;return s=i.extra.bar.seriesGap*i.pix||0,n=i.extra.bar.categoryGap*i.pix||0,s=Math.min(s,t/r),n=Math.min(n,t/r),l.width=Math.ceil((t-2*n-s*(r-1))/r),i.extra.bar&&i.extra.bar.width&&+i.extra.bar.width>0&&(l.width=Math.min(l.width,+i.extra.bar.width*i.pix)),l.width<=0&&(l.width=1),l.y+=(e+.5-r/2)*(l.width+s),l})}function Ia(a,t,r,e,o,i,l){var s=i.extra.column.categoryGap*i.pix||0;return a.map(function(n){return n===null?null:(n.width=t-2*s,i.extra.column&&i.extra.column.width&&+i.extra.column.width>0&&(n.width=Math.min(n.width,+i.extra.column.width*i.pix)),e>0&&(n.width-=l),n)})}function Oa(a,t,r,e,o,i,l){var s=i.extra.column.categoryGap*i.pix||0;return a.map(function(n,p){return n===null?null:(n.width=Math.ceil(t-2*s),i.extra.column&&i.extra.column.width&&+i.extra.column.width>0&&(n.width=Math.min(n.width,+i.extra.column.width*i.pix)),n.width<=0&&(n.width=1),n)})}function za(a,t,r,e,o,i,l){var s=i.extra.bar.categoryGap*i.pix||0;return a.map(function(n,p){return n===null?null:(n.width=Math.ceil(t-2*s),i.extra.bar&&i.extra.bar.width&&+i.extra.bar.width>0&&(n.width=Math.min(n.width,+i.extra.bar.width*i.pix)),n.width<=0&&(n.width=1),n)})}function yt(a,t,r){var e=t.width-t.area[1]-t.area[3],o=t.enableScroll?Math.min(t.xAxis.itemCount,a.length):a.length;(t.type=="line"||t.type=="area"||t.type=="scatter"||t.type=="bubble"||t.type=="bar")&&o>1&&t.xAxis.boundaryGap=="justify"&&(o-=1);var i=0;t.type=="mount"&&t.extra&&t.extra.mount&&t.extra.mount.widthRatio&&t.extra.mount.widthRatio>1&&(t.extra.mount.widthRatio>2&&(t.extra.mount.widthRatio=2),i=t.extra.mount.widthRatio-1,o+=i);var l=e/o,s=[],n=t.area[3],p=t.width-t.area[1];return a.forEach(function(c,h){s.push(n+i/2*l+h*l)}),t.xAxis.boundaryGap!=="justify"&&(t.enableScroll===!0?s.push(n+i*l+a.length*l):s.push(p)),{xAxisPoints:s,startX:n,endX:p,eachSpacing:l}}function Ea(a,t,r,e,o,i,l){var s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:1,n=[],p=i.height-i.area[0]-i.area[2];return a.forEach(function(c,h){if(c===null)n.push(null);else{var f=[];c.forEach(function(x,d){var u={};u.x=e[h]+Math.round(o/2);var g=x.value||x,m=p*(g-t)/(r-t);m*=s,u.y=i.height-Math.round(m)-i.area[2],f.push(u)}),n.push(f)}}),n}function V(a,t,r,e,o,i,l){var s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:1,n="center";(i.type=="line"||i.type=="area"||i.type=="scatter"||i.type=="bubble")&&(n=i.xAxis.boundaryGap);var p=[],c=i.height-i.area[0]-i.area[2],h=i.width-i.area[1]-i.area[3];return a.forEach(function(f,x){if(f===null)p.push(null);else{var d={};d.color=f.color,d.x=e[x];var u=f;if(typeof f=="object"&&f!==null)if(f.constructor.toString().indexOf("Array")>-1){let m,y,v;m=[].concat(i.chartData.xAxisData.ranges),y=m.shift(),v=m.pop(),u=f[1],d.x=i.area[3]+h*(f[0]-y)/(v-y),i.type=="bubble"&&(d.r=f[2],d.t=f[3])}else u=f.value;n=="center"&&(d.x+=o/2);var g=c*(u-t)/(r-t);g*=s,d.y=i.height-g-i.area[2],p.push(d)}}),p}function Ra(a,t,r,e,o,i,l,s,p){var p=arguments.length>8&&arguments[8]!==void 0?arguments[8]:1,c=i.xAxis.boundaryGap,h=[],f=i.height-i.area[0]-i.area[2],x=i.width-i.area[1]-i.area[3];return a.forEach(function(d,u){if(d===null)h.push(null);else{var g={};if(g.color=d.color,s.animation=="vertical"){g.x=e[u];var m=d;if(typeof d=="object"&&d!==null)if(d.constructor.toString().indexOf("Array")>-1){let v,T,w;v=[].concat(i.chartData.xAxisData.ranges),T=v.shift(),w=v.pop(),m=d[1],g.x=i.area[3]+x*(d[0]-T)/(w-T)}else m=d.value;c=="center"&&(g.x+=o/2);var y=f*(m-t)/(r-t);y*=p,g.y=i.height-y-i.area[2],h.push(g)}else{g.x=e[0]+o*u*p;var m=d;c=="center"&&(g.x+=o/2);var y=f*(m-t)/(r-t);g.y=i.height-y-i.area[2],h.push(g)}}}),h}function Qt(a,t,r,e,o,i,l,s,p){var p=arguments.length>8&&arguments[8]!==void 0?arguments[8]:1,c=[],h=i.height-i.area[0]-i.area[2],f=i.width-i.area[1]-i.area[3];return a.forEach(function(x,d){if(x===null)c.push(null);else{var u={};u.color=x.color,u.x=e[d];var g=x;if(typeof x=="object"&&x!==null)if(x.constructor.toString().indexOf("Array")>-1){let y,v,T;y=[].concat(i.chartData.xAxisData.ranges),v=y.shift(),T=y.pop(),g=x[1],u.x=i.area[3]+f*(x[0]-v)/(T-v)}else g=x.value;u.x+=o/2;var m=h*(g*p-t)/(r-t);u.y=i.height-m-i.area[2],c.push(u)}}),c}function Vt(a,t,r,e,o,i,l,s){var n=arguments.length>8&&arguments[8]!==void 0?arguments[8]:1,p=[],c=i.height-i.area[0]-i.area[2];i.width-i.area[1]-i.area[3];var h=o*l.widthRatio;return a.forEach(function(f,x){if(f===null)p.push(null);else{var d={};d.color=f.color,d.x=e[x],d.x+=o/2;var u=f.data,g=c*(u*n-t)/(r-t);d.y=i.height-g-i.area[2],d.value=u,d.width=h,p.push(d)}}),p}function te(a,t,r,e,o,i,l){var s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:1,n=[];i.height-i.area[0]-i.area[2];var p=i.width-i.area[1]-i.area[3];return a.forEach(function(c,h){if(c===null)n.push(null);else{var f={};f.color=c.color,f.y=e[h];var x=c;typeof c=="object"&&c!==null&&(x=c.value);var d=p*(x-t)/(r-t);d*=s,f.height=d,f.value=x,f.x=d+i.area[3],n.push(f)}}),n}function Ct(a,t,r,e,o,i,l,s,n){var p=arguments.length>9&&arguments[9]!==void 0?arguments[9]:1,c=[],h=i.height-i.area[0]-i.area[2];return a.forEach(function(f,x){if(f===null)c.push(null);else{var d={};if(d.color=f.color,d.x=e[x]+Math.round(o/2),s>0){var u=0;for(let T=0;T<=s;T++)u+=n[T].data[x];var g=u-f,m=h*(u-t)/(r-t),y=h*(g-t)/(r-t)}else{var u=f;typeof f=="object"&&f!==null&&(u=f.value);var m=h*(u-t)/(r-t),y=0}var v=y;m*=p,v*=p,d.y=i.height-Math.round(m)-i.area[2],d.y0=i.height-Math.round(v)-i.area[2],c.push(d)}}),c}function Mt(a,t,r,e,o,i,l,s,n){var p=arguments.length>9&&arguments[9]!==void 0?arguments[9]:1,c=[],h=i.width-i.area[1]-i.area[3];return a.forEach(function(f,x){if(f===null)c.push(null);else{var d={};if(d.color=f.color,d.y=e[x],s>0){var u=0;for(let T=0;T<=s;T++)u+=n[T].data[x];var g=u-f,m=h*(u-t)/(r-t),y=h*(g-t)/(r-t)}else{var u=f;typeof f=="object"&&f!==null&&(u=f.value);var m=h*(u-t)/(r-t),y=0}var v=y;m*=p,v*=p,d.height=m-v,d.x=i.area[3]+m,d.x0=i.area[3]+v,c.push(d)}}),c}function ee(a,t,r,e,o){var i;e=="stack"?i=ge(a,t.categories.length):i=At(a);var l=[];i=i.filter(function(u){return typeof u=="object"&&u!==null?u.constructor.toString().indexOf("Array")>-1?u!==null:u.value!==null:u!==null}),i.map(function(u){typeof u=="object"?u.constructor.toString().indexOf("Array")>-1?t.type=="candle"?u.map(function(g){l.push(g)}):l.push(u[1]):l.push(u.value):l.push(u)});var s=o.min||0,n=o.max||0;l.length>0&&(s=Math.min.apply(this,l),n=Math.max.apply(this,l)),s===n&&(n==0?n=10:s=0);for(var p=sa(s,n),c=o.min===void 0||o.min===null?p.minRange:o.min,h=o.max===void 0||o.max===null?p.maxRange:o.max,f=(h-c)/t.yAxis.splitNumber,x=[],d=0;d<=t.yAxis.splitNumber;d++)x.push(c+f*d);return x.reverse()}function zt(a,t,r,e){var o=k({},{type:""},t.extra.column),i=t.yAxis.data.length,l=new Array(i);if(i>0){for(let h=0;h<i;h++){l[h]=[];for(let f=0;f<a.length;f++)a[f].index==h&&l[h].push(a[f])}var s=new Array(i),n=new Array(i),p=new Array(i);for(let h=0;h<i;h++){let f=t.yAxis.data[h];t.yAxis.disabled==!0&&(f.disabled=!0),f.type==="categories"?(f.formatter||(f.formatter=(u,g,m)=>u+(f.unit||"")),f.categories=f.categories||t.categories,s[h]=f.categories):(f.formatter||(f.formatter=(u,g,m)=>ot.toFixed(u,f.tofix||0)+(f.unit||"")),s[h]=ee(l[h],t,r,o.type,f));let x=f.fontSize*t.pix||r.fontSize;p[h]={position:f.position?f.position:"left",width:0},n[h]=s[h].map(function(u,g){return u=f.formatter(u,g,t),p[h].width=Math.max(p[h].width,G(u,x,e)+5),u});let d=f.calibration?4*t.pix:0;p[h].width+=d+3*t.pix,f.disabled===!0&&(p[h].width=0)}}else{var s=new Array(1),n=new Array(1),p=new Array(1);t.type==="bar"?(s[0]=t.categories,t.yAxis.formatter||(t.yAxis.formatter=(d,u,g)=>d+(g.yAxis.unit||""))):(t.yAxis.formatter||(t.yAxis.formatter=(d,u,g)=>d.toFixed(g.yAxis.tofix)+(g.yAxis.unit||"")),s[0]=ee(a,t,r,o.type,{})),p[0]={position:"left",width:0};var c=t.yAxis.fontSize*t.pix||r.fontSize;n[0]=s[0].map(function(d,u){return d=t.yAxis.formatter(d,u,t),p[0].width=Math.max(p[0].width,G(d,c,e)+5),d}),p[0].width+=3*t.pix,t.yAxis.disabled===!0?(p[0]={position:"left",width:0},t.yAxis.data[0]={disabled:!0}):(t.yAxis.data[0]={disabled:!1,position:"left",max:t.yAxis.max,min:t.yAxis.min,formatter:t.yAxis.formatter},t.type==="bar"&&(t.yAxis.data[0].categories=t.categories,t.yAxis.data[0].type="categories"))}return{rangesFormat:n,ranges:s,yAxisWidth:p}}function Wa(a,t,r,e,o){let i=[].concat(r.chartData.yAxisData.ranges),l=r.height-r.area[0]-r.area[2],s=r.area[0],n=[];for(let p=0;p<i.length;p++){let c=Math.max.apply(this,i[p]),h=Math.min.apply(this,i[p]),f=c-(c-h)*(a-s)/l;f=r.yAxis.data&&r.yAxis.data[p].formatter?r.yAxis.data[p].formatter(f,p,r):f.toFixed(0),n.push(String(f))}return n}function Ba(a,t){let r,e,o=t.height-t.area[0]-t.area[2];for(let i=0;i<a.length;i++){a[i].yAxisIndex=a[i].yAxisIndex?a[i].yAxisIndex:0;let l=[].concat(t.chartData.yAxisData.ranges[a[i].yAxisIndex]);r=l.pop(),e=l.shift();let s=o*(a[i].value-r)/(e-r);a[i].y=t.height-Math.round(s)-t.area[2]}return a}function U(a,t){t.rotateLock!==!0?(a.translate(t.height,0),a.rotate(90*Math.PI/180)):t._rotate_!==!0&&(a.translate(t.height,0),a.rotate(90*Math.PI/180),t._rotate_=!0)}function Tt(a,t,r,e,o){if(e.beginPath(),o.dataPointShapeType=="hollow"?(e.setStrokeStyle(t),e.setFillStyle(o.background),e.setLineWidth(2*o.pix)):(e.setStrokeStyle("#ffffff"),e.setFillStyle(t),e.setLineWidth(1*o.pix)),r==="diamond")a.forEach(function(i,l){i!==null&&(e.moveTo(i.x,i.y-4.5),e.lineTo(i.x-4.5,i.y),e.lineTo(i.x,i.y+4.5),e.lineTo(i.x+4.5,i.y),e.lineTo(i.x,i.y-4.5))});else if(r==="circle")a.forEach(function(i,l){i!==null&&(e.moveTo(i.x+2.5*o.pix,i.y),e.arc(i.x,i.y,3*o.pix,0,2*Math.PI,!1))});else if(r==="square")a.forEach(function(i,l){i!==null&&(e.moveTo(i.x-3.5,i.y-3.5),e.rect(i.x-3.5,i.y-3.5,7,7))});else if(r==="triangle")a.forEach(function(i,l){i!==null&&(e.moveTo(i.x,i.y-4.5),e.lineTo(i.x-4.5,i.y+4.5),e.lineTo(i.x+4.5,i.y+4.5),e.lineTo(i.x,i.y-4.5))});else if(r==="none")return;e.closePath(),e.fill(),e.stroke()}function Se(a,t,r,e,o,i,l){if(o.tooltip&&!(o.tooltip.group.length>0&&o.tooltip.group.includes(l)==!1)){var s=typeof o.tooltip.index=="number"?o.tooltip.index:o.tooltip.index[o.tooltip.group.indexOf(l)];if(e.beginPath(),i.activeType=="hollow"?(e.setStrokeStyle(t),e.setFillStyle(o.background),e.setLineWidth(2*o.pix)):(e.setStrokeStyle("#ffffff"),e.setFillStyle(t),e.setLineWidth(1*o.pix)),r==="diamond")a.forEach(function(n,p){n!==null&&s==p&&(e.moveTo(n.x,n.y-4.5),e.lineTo(n.x-4.5,n.y),e.lineTo(n.x,n.y+4.5),e.lineTo(n.x+4.5,n.y),e.lineTo(n.x,n.y-4.5))});else if(r==="circle")a.forEach(function(n,p){n!==null&&s==p&&(e.moveTo(n.x+2.5*o.pix,n.y),e.arc(n.x,n.y,3*o.pix,0,2*Math.PI,!1))});else if(r==="square")a.forEach(function(n,p){n!==null&&s==p&&(e.moveTo(n.x-3.5,n.y-3.5),e.rect(n.x-3.5,n.y-3.5,7,7))});else if(r==="triangle")a.forEach(function(n,p){n!==null&&s==p&&(e.moveTo(n.x,n.y-4.5),e.lineTo(n.x-4.5,n.y+4.5),e.lineTo(n.x+4.5,n.y+4.5),e.lineTo(n.x,n.y-4.5))});else if(r==="none")return;e.closePath(),e.fill(),e.stroke()}}function Et(a,t,r,e){var o=a.title.fontSize||t.titleFontSize,i=a.subtitle.fontSize||t.subtitleFontSize,l=a.title.name||"",s=a.subtitle.name||"",n=a.title.color||a.fontColor,p=a.subtitle.color||a.fontColor,c=l?o:0,h=s?i:0,f=5;if(s){var x=G(s,i*a.pix,r),d=e.x-x/2+(a.subtitle.offsetX||0)*a.pix,u=e.y+i*a.pix/2+(a.subtitle.offsetY||0)*a.pix;l&&(u+=(c*a.pix+f)/2),r.beginPath(),r.setFontSize(i*a.pix),r.setFillStyle(p),r.fillText(s,d,u),r.closePath(),r.stroke()}if(l){var g=G(l,o*a.pix,r),m=e.x-g/2+(a.title.offsetX||0),y=e.y+o*a.pix/2+(a.title.offsetY||0)*a.pix;s&&(y-=(h*a.pix+f)/2),r.beginPath(),r.setFontSize(o*a.pix),r.setFillStyle(n),r.fillText(l,m,y),r.closePath(),r.stroke()}}function gt(a,t,r,e,o){var i=t.data,l=t.textOffset?t.textOffset:0;a.forEach(function(s,n){if(s!==null){e.beginPath();var p=t.textSize?t.textSize*o.pix:r.fontSize;e.setFontSize(p),e.setFillStyle(t.textColor||o.fontColor);var c=i[n];typeof i[n]=="object"&&i[n]!==null&&(i[n].constructor.toString().indexOf("Array")>-1?c=i[n][1]:c=i[n].value);var h=t.formatter?t.formatter(c,n,t,o):c;e.setTextAlign("center"),e.fillText(String(h),s.x,s.y-4+l*o.pix),e.closePath(),e.stroke(),e.setTextAlign("left")}})}function Dt(a,t,r,e,o){var i=t.data,l=t.textOffset?t.textOffset:0,s=o.extra.column.labelPosition;a.forEach(function(n,p){if(n!==null){e.beginPath();var c=t.textSize?t.textSize*o.pix:r.fontSize;e.setFontSize(c),e.setFillStyle(t.textColor||o.fontColor);var h=i[p];typeof i[p]=="object"&&i[p]!==null&&(i[p].constructor.toString().indexOf("Array")>-1?h=i[p][1]:h=i[p].value);var f=t.formatter?t.formatter(h,p,t,o):h;e.setTextAlign("center");var x=n.y-4*o.pix+l*o.pix;n.y>t.zeroPoints&&(x=n.y+l*o.pix+c),s=="insideTop"&&(x=n.y+c+l*o.pix,n.y>t.zeroPoints&&(x=n.y-l*o.pix-4*o.pix)),s=="center"&&(x=n.y+l*o.pix+(o.height-o.area[2]-n.y+c)/2,t.zeroPoints<o.height-o.area[2]&&(x=n.y+l*o.pix+(t.zeroPoints-n.y+c)/2),n.y>t.zeroPoints&&(x=n.y-l*o.pix-(n.y-t.zeroPoints-c)/2),o.extra.column.type=="stack"&&(x=n.y+l*o.pix+(n.y0-n.y+c)/2)),s=="bottom"&&(x=o.height-o.area[2]+l*o.pix-4*o.pix,t.zeroPoints<o.height-o.area[2]&&(x=t.zeroPoints+l*o.pix-4*o.pix),n.y>t.zeroPoints&&(x=t.zeroPoints-l*o.pix+c+2*o.pix),o.extra.column.type=="stack"&&(x=n.y0+l*o.pix-4*o.pix)),e.fillText(String(f),n.x,x),e.closePath(),e.stroke(),e.setTextAlign("left")}})}function Ga(a,t,r,e,o,i){t.data;var l=t.textOffset?t.textOffset:0;o.extra.mount.labelPosition,a.forEach(function(s,n){if(s!==null){e.beginPath();var p=t[n].textSize?t[n].textSize*o.pix:r.fontSize;e.setFontSize(p),e.setFillStyle(t[n].textColor||o.fontColor);var c=s.value,h=t[n].formatter?t[n].formatter(c,n,t,o):c;e.setTextAlign("center");var f=s.y-4*o.pix+l*o.pix;s.y>i&&(f=s.y+l*o.pix+p),e.fillText(String(h),s.x,f),e.closePath(),e.stroke(),e.setTextAlign("left")}})}function ie(a,t,r,e,o){var i=t.data;t.textOffset&&t.textOffset,a.forEach(function(l,s){if(l!==null){e.beginPath();var n=t.textSize?t.textSize*o.pix:r.fontSize;e.setFontSize(n),e.setFillStyle(t.textColor||o.fontColor);var p=i[s];typeof i[s]=="object"&&i[s]!==null&&(p=i[s].value);var c=t.formatter?t.formatter(p,s,t,o):p;e.setTextAlign("left"),e.fillText(String(c),l.x+4*o.pix,l.y+n/2-3),e.closePath(),e.stroke()}})}function ja(a,t,r,e,o,i){t-=a.width/2+a.labelOffset*e.pix,t=t<10?10:t;let l;a.endAngle<a.startAngle?l=2+a.endAngle-a.startAngle:l=a.startAngle-a.endAngle;let s=l/a.splitLine.splitNumber,p=(a.endNumber-a.startNumber)/a.splitLine.splitNumber,c=a.startAngle,h=a.startNumber;for(let g=0;g<a.splitLine.splitNumber+1;g++){var f={x:t*Math.cos(c*Math.PI),y:t*Math.sin(c*Math.PI)},x=a.formatter?a.formatter(h,g,e):h;f.x+=r.x-G(x,o.fontSize,i)/2,f.y+=r.y;var d=f.x,u=f.y;i.beginPath(),i.setFontSize(o.fontSize),i.setFillStyle(a.labelColor||e.fontColor),i.fillText(x,d,u+o.fontSize/2),i.closePath(),i.stroke(),c+=s,c>=2&&(c=c%2),h+=p}}function Xa(a,t,r,e,o,i){var l=e.extra.radar||{};a.forEach(function(s,n){if(l.labelPointShow===!0&&e.categories[n]!==""){var p={x:t*Math.cos(s),y:t*Math.sin(s)},c=rt(p.x,p.y,r);i.setFillStyle(l.labelPointColor),i.beginPath(),i.arc(c.x,c.y,l.labelPointRadius*e.pix,0,2*Math.PI,!1),i.closePath(),i.fill()}if(l.labelShow===!0){var h={x:(t+o.radarLabelTextMargin*e.pix)*Math.cos(s),y:(t+o.radarLabelTextMargin*e.pix)*Math.sin(s)},f=rt(h.x,h.y,r),x=f.x,d=f.y;ot.approximatelyEqual(h.x,0)?x-=G(e.categories[n]||"",o.fontSize,i)/2:h.x<0&&(x-=G(e.categories[n]||"",o.fontSize,i)),i.beginPath(),i.setFontSize(o.fontSize),i.setFillStyle(l.labelColor||e.fontColor),i.fillText(e.categories[n]||"",x,d+o.fontSize/2),i.closePath(),i.stroke()}})}function be(a,t,r,e,o,i){var l=r.pieChartLinePadding,s=[],n=null,p=a.map(function(c,h){var f=c.formatter?c.formatter(c,h,a,t):ot.toFixed(c._proportion_.toFixed(4)*100)+"%";f=c.labelText?c.labelText:f;var x=2*Math.PI-(c._start_+2*Math.PI*c._proportion_/2);c._rose_proportion_&&(x=2*Math.PI-(c._start_+2*Math.PI*c._rose_proportion_/2));var d=c.color,u=c._radius_;return{arc:x,text:f,color:d,radius:u,textColor:c.textColor,textSize:c.textSize,labelShow:c.labelShow}});for(let c=0;c<p.length;c++){let h=p[c],f=Math.cos(h.arc)*(h.radius+l),x=Math.sin(h.arc)*(h.radius+l),d=Math.cos(h.arc)*h.radius,u=Math.sin(h.arc)*h.radius,g=f>=0?f+r.pieChartTextPadding:f-r.pieChartTextPadding,m=x,y=G(h.text,h.textSize*t.pix||r.fontSize,e),v=m;n&&ot.isSameXCoordinateArea(n.start,{x:g})&&(g>0?v=Math.min(m,n.start.y):f<0||m>0?v=Math.max(m,n.start.y):v=Math.min(m,n.start.y)),g<0&&(g-=y);let T={lineStart:{x:d,y:u},lineEnd:{x:f,y:x},start:{x:g,y:v},width:y,height:r.fontSize,text:h.text,color:h.color,textColor:h.textColor,textSize:h.textSize};n=na(T,n),s.push(n)}for(let c=0;c<s.length;c++){if(p[c].labelShow===!1)continue;let h=s[c],f=rt(h.lineStart.x,h.lineStart.y,i),x=rt(h.lineEnd.x,h.lineEnd.y,i),d=rt(h.start.x,h.start.y,i);e.setLineWidth(1*t.pix),e.setFontSize(h.textSize*t.pix||r.fontSize),e.beginPath(),e.setStrokeStyle(h.color),e.setFillStyle(h.color),e.moveTo(f.x,f.y);let u=h.start.x<0?d.x+h.width:d.x,g=h.start.x<0?d.x-5:d.x+5;e.quadraticCurveTo(x.x,x.y,u,d.y),e.moveTo(f.x,f.y),e.stroke(),e.closePath(),e.beginPath(),e.moveTo(d.x+h.width,d.y),e.arc(u,d.y,2*t.pix,0,2*Math.PI),e.closePath(),e.fill(),e.beginPath(),e.setFontSize(h.textSize*t.pix||r.fontSize),e.setFillStyle(h.textColor||t.fontColor),e.fillText(h.text,g,d.y+3),e.closePath(),e.stroke(),e.closePath()}}function Na(a,t,r,e){var o=t.extra.tooltip||{};o.gridType=o.gridType==null?"solid":o.gridType,o.dashLength=o.dashLength==null?4:o.dashLength;var i=t.area[0],l=t.height-t.area[2];if(o.gridType=="dash"&&e.setLineDash([o.dashLength,o.dashLength]),e.setStrokeStyle(o.gridColor||"#cccccc"),e.setLineWidth(1*t.pix),e.beginPath(),e.moveTo(a,i),e.lineTo(a,l),e.stroke(),e.setLineDash([]),o.xAxisLabel){let s=t.categories[t.tooltip.index];e.setFontSize(r.fontSize);let n=G(s,r.fontSize,e),p=a-.5*n,c=l+2*t.pix;e.beginPath(),e.setFillStyle(C(o.labelBgColor||r.toolTipBackground,o.labelBgOpacity||r.toolTipOpacity)),e.setStrokeStyle(o.labelBgColor||r.toolTipBackground),e.setLineWidth(1*t.pix),e.rect(p-o.boxPadding*t.pix,c,n+2*o.boxPadding*t.pix,r.fontSize+2*o.boxPadding*t.pix),e.closePath(),e.stroke(),e.fill(),e.beginPath(),e.setFontSize(r.fontSize),e.setFillStyle(o.labelFontColor||t.fontColor),e.fillText(String(s),p,c+o.boxPadding*t.pix+r.fontSize),e.closePath(),e.stroke()}}function et(a,t,r){let e=k({},{type:"solid",dashLength:4,data:[]},a.extra.markLine),o=a.area[3],i=a.width-a.area[1],l=Ba(e.data,a);for(let s=0;s<l.length;s++){let n=k({},{lineColor:"#DE4A42",showLabel:!1,labelFontSize:13,labelPadding:6,labelFontColor:"#666666",labelBgColor:"#DFE8FF",labelBgOpacity:.8,labelAlign:"left",labelOffsetX:0,labelOffsetY:0},l[s]);if(e.type=="dash"&&r.setLineDash([e.dashLength,e.dashLength]),r.setStrokeStyle(n.lineColor),r.setLineWidth(1*a.pix),r.beginPath(),r.moveTo(o,n.y),r.lineTo(i,n.y),r.stroke(),r.setLineDash([]),n.showLabel){let p=n.labelFontSize*a.pix,c=n.labelText?n.labelText:n.value;r.setFontSize(p);let f=G(c,p,r)+n.labelPadding*a.pix*2,x=n.labelAlign=="left"?a.area[3]-f:a.width-a.area[1];x+=n.labelOffsetX;let d=n.y-.5*p-n.labelPadding*a.pix;d+=n.labelOffsetY;let u=x+n.labelPadding*a.pix;n.y,r.setFillStyle(C(n.labelBgColor,n.labelBgOpacity)),r.setStrokeStyle(n.labelBgColor),r.setLineWidth(1*a.pix),r.beginPath(),r.rect(x,d,f,p+2*n.labelPadding*a.pix),r.closePath(),r.stroke(),r.fill(),r.setFontSize(p),r.setTextAlign("left"),r.setFillStyle(n.labelFontColor),r.fillText(String(c),u,d+p+n.labelPadding*a.pix/2),r.stroke(),r.setTextAlign("left")}}}function Ha(a,t,r,e,o){var i=k({},{gridType:"solid",dashLength:4},a.extra.tooltip),l=a.area[3],s=a.width-a.area[1];if(i.gridType=="dash"&&r.setLineDash([i.dashLength,i.dashLength]),r.setStrokeStyle(i.gridColor||"#cccccc"),r.setLineWidth(1*a.pix),r.beginPath(),r.moveTo(l,a.tooltip.offset.y),r.lineTo(s,a.tooltip.offset.y),r.stroke(),r.setLineDash([]),i.yAxisLabel){let n=i.boxPadding*a.pix,p=Wa(a.tooltip.offset.y,a.series,a),c=a.chartData.yAxisData.yAxisWidth,h=a.area[3],f=a.width-a.area[1];for(let x=0;x<p.length;x++){r.setFontSize(i.fontSize*a.pix);let d=G(p[x],i.fontSize*a.pix,r),u,g,m;c[x].position=="left"?(u=h-(d+n*2)-2*a.pix,g=Math.max(u,u+d+n*2)):(u=f+2*a.pix,g=Math.max(u+c[x].width,u+d+n*2)),m=g-u;let y=u+(m-d)/2,v=a.tooltip.offset.y;r.beginPath(),r.setFillStyle(C(i.labelBgColor||t.toolTipBackground,i.labelBgOpacity||t.toolTipOpacity)),r.setStrokeStyle(i.labelBgColor||t.toolTipBackground),r.setLineWidth(1*a.pix),r.rect(u,v-.5*t.fontSize-n,m,t.fontSize+2*n),r.closePath(),r.stroke(),r.fill(),r.beginPath(),r.setFontSize(t.fontSize),r.setFillStyle(i.labelFontColor||a.fontColor),r.fillText(p[x],y,v+.5*t.fontSize),r.closePath(),r.stroke(),c[x].position=="left"?h-=c[x].width+a.yAxis.padding*a.pix:f+=c[x].width+a.yAxis.padding*a.pix}}}function $a(a,t,r,e,o){var i=k({},{activeBgColor:"#000000",activeBgOpacity:.08,activeWidth:o},t.extra.column);i.activeWidth=i.activeWidth>o?o:i.activeWidth;var l=t.area[0],s=t.height-t.area[2];e.beginPath(),e.setFillStyle(C(i.activeBgColor,i.activeBgOpacity)),e.rect(a-i.activeWidth/2,l,i.activeWidth,s-l),e.closePath(),e.fill(),e.setFillStyle("#FFFFFF")}function Ya(a,t,r,e,o){var i=k({},{activeBgColor:"#000000",activeBgOpacity:.08},t.extra.bar),l=t.area[3],s=t.width-t.area[1];e.beginPath(),e.setFillStyle(C(i.activeBgColor,i.activeBgOpacity)),e.rect(l,a-o/2,s-l,o),e.closePath(),e.fill(),e.setFillStyle("#FFFFFF")}function Ua(a,t,r,e,o,i,l){var s=k({},{showBox:!0,showArrow:!0,showCategory:!1,bgColor:"#000000",bgOpacity:.7,borderColor:"#000000",borderWidth:0,borderRadius:0,borderOpacity:.7,boxPadding:3,fontColor:"#FFFFFF",fontSize:13,lineHeight:20,legendShow:!0,legendShape:"auto",splitLine:!0},r.extra.tooltip);s.showCategory==!0&&r.categories&&a.unshift({text:r.categories[r.tooltip.index],color:null});var n=s.fontSize*r.pix,p=s.lineHeight*r.pix,c=s.boxPadding*r.pix,h=n,f=5*r.pix;s.legendShow==!1&&(h=0,f=0);var x=s.showArrow?8*r.pix:0,d=!1;(r.type=="line"||r.type=="mount"||r.type=="area"||r.type=="candle"||r.type=="mix")&&s.splitLine==!0&&Na(r.tooltip.offset.x,r,e,o),t=k({x:0,y:0},t),t.y-=8*r.pix;var u=a.map(function(v){return G(v.text,n,o)}),g=h+f+4*c+Math.max.apply(null,u),m=2*c+a.length*p;if(s.showBox!=!1){t.x-Math.abs(r._scrollDistance_||0)+x+g>r.width&&(d=!0),m+t.y>r.height&&(t.y=r.height-m),o.beginPath(),o.setFillStyle(C(s.bgColor,s.bgOpacity)),o.setLineWidth(s.borderWidth*r.pix),o.setStrokeStyle(C(s.borderColor,s.borderOpacity));var y=s.borderRadius;d?(g+x>r.width&&(t.x=r.width+Math.abs(r._scrollDistance_||0)+x+(g-r.width)),g>t.x&&(t.x=r.width+Math.abs(r._scrollDistance_||0)+x+(g-r.width)),s.showArrow&&(o.moveTo(t.x,t.y+10*r.pix),o.lineTo(t.x-x,t.y+10*r.pix+5*r.pix)),o.arc(t.x-x-y,t.y+m-y,y,0,Math.PI/2,!1),o.arc(t.x-x-Math.round(g)+y,t.y+m-y,y,Math.PI/2,Math.PI,!1),o.arc(t.x-x-Math.round(g)+y,t.y+y,y,-Math.PI,-Math.PI/2,!1),o.arc(t.x-x-y,t.y+y,y,-Math.PI/2,0,!1),s.showArrow&&(o.lineTo(t.x-x,t.y+10*r.pix-5*r.pix),o.lineTo(t.x,t.y+10*r.pix))):(s.showArrow&&(o.moveTo(t.x,t.y+10*r.pix),o.lineTo(t.x+x,t.y+10*r.pix-5*r.pix)),o.arc(t.x+x+y,t.y+y,y,-Math.PI,-Math.PI/2,!1),o.arc(t.x+x+Math.round(g)-y,t.y+y,y,-Math.PI/2,0,!1),o.arc(t.x+x+Math.round(g)-y,t.y+m-y,y,0,Math.PI/2,!1),o.arc(t.x+x+y,t.y+m-y,y,Math.PI/2,Math.PI,!1),s.showArrow&&(o.lineTo(t.x+x,t.y+10*r.pix+5*r.pix),o.lineTo(t.x,t.y+10*r.pix))),o.closePath(),o.fill(),s.borderWidth>0&&o.stroke(),s.legendShow&&a.forEach(function(v,T){if(v.color!==null){o.beginPath(),o.setFillStyle(v.color);var w=t.x+x+2*c,b=t.y+(p-n)/2+p*T+c+1;switch(d&&(w=t.x-g-x+2*c),v.legendShape){case"line":o.moveTo(w,b+.5*h-2*r.pix),o.fillRect(w,b+.5*h-2*r.pix,h,4*r.pix);break;case"triangle":o.moveTo(w+7.5*r.pix,b+.5*h-5*r.pix),o.lineTo(w+2.5*r.pix,b+.5*h+5*r.pix),o.lineTo(w+12.5*r.pix,b+.5*h+5*r.pix),o.lineTo(w+7.5*r.pix,b+.5*h-5*r.pix);break;case"diamond":o.moveTo(w+7.5*r.pix,b+.5*h-5*r.pix),o.lineTo(w+2.5*r.pix,b+.5*h),o.lineTo(w+7.5*r.pix,b+.5*h+5*r.pix),o.lineTo(w+12.5*r.pix,b+.5*h),o.lineTo(w+7.5*r.pix,b+.5*h-5*r.pix);break;case"circle":o.moveTo(w+7.5*r.pix,b+.5*h),o.arc(w+7.5*r.pix,b+.5*h,5*r.pix,0,2*Math.PI);break;case"rect":o.moveTo(w,b+.5*h-5*r.pix),o.fillRect(w,b+.5*h-5*r.pix,15*r.pix,10*r.pix);break;case"square":o.moveTo(w+2*r.pix,b+.5*h-5*r.pix),o.fillRect(w+2*r.pix,b+.5*h-5*r.pix,10*r.pix,10*r.pix);break;default:o.moveTo(w,b+.5*h-5*r.pix),o.fillRect(w,b+.5*h-5*r.pix,15*r.pix,10*r.pix)}o.closePath(),o.fill()}}),a.forEach(function(v,T){var w=t.x+x+2*c+h+f;d&&(w=t.x-g-x+2*c+h+f);var b=t.y+p*T+(p-n)/2-1+c+n;o.beginPath(),o.setFontSize(n),o.setTextBaseline("normal"),o.setFillStyle(s.fontColor),o.fillText(v.text,w,b),o.closePath(),o.stroke()})}}function qa(a,t,r,e){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,i=t.chartData.xAxisData,l=i.xAxisPoints,s=i.eachSpacing,n=k({},{type:"group",width:s/2,meterBorder:4,meterFillColor:"#FFFFFF",barBorderCircle:!1,barBorderRadius:[],seriesGap:2,linearType:"none",linearOpacity:1,customColor:[],colorStop:0,labelPosition:"outside"},t.extra.column),p=[];e.save();let c=-2,h=l.length+2;return t._scrollDistance_&&t._scrollDistance_!==0&&t.enableScroll===!0&&(e.translate(t._scrollDistance_,0),c=Math.floor(-t._scrollDistance_/s)-2,h=c+t.xAxis.itemCount+4),t.tooltip&&t.tooltip.textList&&t.tooltip.textList.length&&o===1&&$a(t.tooltip.offset.x,t,r,e,s),n.customColor=nt(n.linearType,n.customColor,a,r),a.forEach(function(f,x){let d,u,g;d=[].concat(t.chartData.yAxisData.ranges[f.index]),u=d.pop(),g=d.shift();let y=(t.height-t.area[0]-t.area[2])*(0-u)/(g-u),v=t.height-Math.round(y)-t.area[2];f.zeroPoints=v;var T=f.data;switch(n.type){case"group":var D=Qt(T,u,g,l,s,t,r,v,o),w=Ct(T,u,g,l,s,t,r,x,a,o);p.push(w),D=St(D,s,a.length,x,r,t);for(let E=0;E<D.length;E++){let _=D[E];if(_!==null&&E>c&&E<h){var b=_.x-_.width/2,A=t.height-_.y-t.area[2];e.beginPath();var S=_.color||f.color,P=_.color||f.color;if(n.linearType!=="none"){var F=e.createLinearGradient(b,_.y,b,v);n.linearType=="opacity"?(F.addColorStop(0,C(S,n.linearOpacity)),F.addColorStop(1,C(S,1))):(F.addColorStop(0,C(n.customColor[f.linearIndex],n.linearOpacity)),F.addColorStop(n.colorStop,C(n.customColor[f.linearIndex],n.linearOpacity)),F.addColorStop(1,C(S,1))),S=F}if(n.barBorderRadius&&n.barBorderRadius.length===4||n.barBorderCircle===!0){const j=b,X=_.y>v?v:_.y,L=_.width,R=Math.abs(v-_.y);n.barBorderCircle&&(n.barBorderRadius=[L/2,L/2,0,0]),_.y>v&&(n.barBorderRadius=[0,0,L/2,L/2]);let[W,B,z,I]=n.barBorderRadius,O=Math.min(L/2,R/2);W=W>O?O:W,B=B>O?O:B,z=z>O?O:z,I=I>O?O:I,W=W<0?0:W,B=B<0?0:B,z=z<0?0:z,I=I<0?0:I,e.arc(j+W,X+W,W,-Math.PI,-Math.PI/2),e.arc(j+L-B,X+B,B,-Math.PI/2,0),e.arc(j+L-z,X+R-z,z,0,Math.PI/2),e.arc(j+I,X+R-I,I,Math.PI/2,Math.PI)}else e.moveTo(b,_.y),e.lineTo(b+_.width,_.y),e.lineTo(b+_.width,v),e.lineTo(b,v),e.lineTo(b,_.y),e.setLineWidth(1),e.setStrokeStyle(P);e.setFillStyle(S),e.closePath(),e.fill()}}break;case"stack":var D=Ct(T,u,g,l,s,t,r,x,a,o);p.push(D),D=Oa(D,s,a.length,x,r,t);for(let E=0;E<D.length;E++){let _=D[E];if(_!==null&&E>c&&E<h){e.beginPath();var S=_.color||f.color,b=_.x-_.width/2+1,A=t.height-_.y-t.area[2],M=t.height-_.y0-t.area[2];x>0&&(A-=M),e.setFillStyle(S),e.moveTo(b,_.y),e.fillRect(b,_.y,_.width,A),e.closePath(),e.fill()}}break;case"meter":var D=V(T,u,g,l,s,t,r,o);p.push(D),D=Ia(D,s,a.length,x,r,t,n.meterBorder);for(let E=0;E<D.length;E++){let _=D[E];if(_!==null&&E>c&&E<h){e.beginPath(),x==0&&n.meterBorder>0&&(e.setStrokeStyle(f.color),e.setLineWidth(n.meterBorder*t.pix)),x==0?e.setFillStyle(n.meterFillColor):e.setFillStyle(_.color||f.color);var b=_.x-_.width/2,A=t.height-_.y-t.area[2];if(n.barBorderRadius&&n.barBorderRadius.length===4||n.barBorderCircle===!0){const L=b,R=_.y,W=_.width,B=v-_.y;n.barBorderCircle&&(n.barBorderRadius=[W/2,W/2,0,0]);let[z,I,O,H]=n.barBorderRadius,$=Math.min(W/2,B/2);z=z>$?$:z,I=I>$?$:I,O=O>$?$:O,H=H>$?$:H,z=z<0?0:z,I=I<0?0:I,O=O<0?0:O,H=H<0?0:H,e.arc(L+z,R+z,z,-Math.PI,-Math.PI/2),e.arc(L+W-I,R+I,I,-Math.PI/2,0),e.arc(L+W-O,R+B-O,O,0,Math.PI/2),e.arc(L+H,R+B-H,H,Math.PI/2,Math.PI),e.fill()}else e.moveTo(b,_.y),e.lineTo(b+_.width,_.y),e.lineTo(b+_.width,v),e.lineTo(b,v),e.lineTo(b,_.y),e.fill();x==0&&n.meterBorder>0&&(e.closePath(),e.stroke())}}break}}),t.dataLabel!==!1&&o===1&&a.forEach(function(f,x){let d,u,g;d=[].concat(t.chartData.yAxisData.ranges[f.index]),u=d.pop(),g=d.shift();var m=f.data;switch(n.type){case"group":var y=Qt(m,u,g,l,s,t,r,o);y=St(y,s,a.length,x,r,t),Dt(y,f,r,e,t);break;case"stack":var y=Ct(m,u,g,l,s,t,r,x,a,o);Dt(y,f,r,e,t);break;case"meter":var y=V(m,u,g,l,s,t,r,o);Dt(y,f,r,e,t);break}}),e.restore(),{xAxisPoints:l,calPoints:p,eachSpacing:s}}function Ja(a,t,r,e){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,i=t.chartData.xAxisData,l=i.xAxisPoints,s=i.eachSpacing,n=k({},{type:"mount",widthRatio:1,borderWidth:1,barBorderCircle:!1,barBorderRadius:[],linearType:"none",linearOpacity:1,customColor:[],colorStop:0},t.extra.mount);n.widthRatio=n.widthRatio<=0?0:n.widthRatio,n.widthRatio=n.widthRatio>=2?2:n.widthRatio,e.save();let p=-2,c=l.length+2;t._scrollDistance_&&t._scrollDistance_!==0&&t.enableScroll===!0&&(e.translate(t._scrollDistance_,0),p=Math.floor(-t._scrollDistance_/s)-2,c=p+t.xAxis.itemCount+4),n.customColor=nt(n.linearType,n.customColor,a,r);let h,f,x;h=[].concat(t.chartData.yAxisData.ranges[0]),f=h.pop(),x=h.shift();let u=(t.height-t.area[0]-t.area[2])*(0-f)/(x-f),g=t.height-Math.round(u)-t.area[2];var m=Vt(a,f,x,l,s,t,n,g,o);switch(n.type){case"bar":for(let A=0;A<m.length;A++){let S=m[A];if(S!==null&&A>p&&A<c){var y=S.x-s*n.widthRatio/2,v=t.height-S.y-t.area[2];e.beginPath();var T=S.color||a[A].color,w=S.color||a[A].color;if(n.linearType!=="none"){var b=e.createLinearGradient(y,S.y,y,g);n.linearType=="opacity"?(b.addColorStop(0,C(T,n.linearOpacity)),b.addColorStop(1,C(T,1))):(b.addColorStop(0,C(n.customColor[a[A].linearIndex],n.linearOpacity)),b.addColorStop(n.colorStop,C(n.customColor[a[A].linearIndex],n.linearOpacity)),b.addColorStop(1,C(T,1))),T=b}if(n.barBorderRadius&&n.barBorderRadius.length===4||n.barBorderCircle===!0){const P=y,F=S.y>g?g:S.y,M=S.width,D=Math.abs(g-S.y);n.barBorderCircle&&(n.barBorderRadius=[M/2,M/2,0,0]),S.y>g&&(n.barBorderRadius=[0,0,M/2,M/2]);let[E,_,j,X]=n.barBorderRadius,L=Math.min(M/2,D/2);E=E>L?L:E,_=_>L?L:_,j=j>L?L:j,X=X>L?L:X,E=E<0?0:E,_=_<0?0:_,j=j<0?0:j,X=X<0?0:X,e.arc(P+E,F+E,E,-Math.PI,-Math.PI/2),e.arc(P+M-_,F+_,_,-Math.PI/2,0),e.arc(P+M-j,F+D-j,j,0,Math.PI/2),e.arc(P+X,F+D-X,X,Math.PI/2,Math.PI)}else e.moveTo(y,S.y),e.lineTo(y+S.width,S.y),e.lineTo(y+S.width,g),e.lineTo(y,g),e.lineTo(y,S.y);e.setStrokeStyle(w),e.setFillStyle(T),n.borderWidth>0&&(e.setLineWidth(n.borderWidth*t.pix),e.closePath(),e.stroke()),e.fill()}}break;case"triangle":for(let A=0;A<m.length;A++){let S=m[A];if(S!==null&&A>p&&A<c){var y=S.x-s*n.widthRatio/2,v=t.height-S.y-t.area[2];e.beginPath();var T=S.color||a[A].color,w=S.color||a[A].color;if(n.linearType!=="none"){var b=e.createLinearGradient(y,S.y,y,g);n.linearType=="opacity"?(b.addColorStop(0,C(T,n.linearOpacity)),b.addColorStop(1,C(T,1))):(b.addColorStop(0,C(n.customColor[a[A].linearIndex],n.linearOpacity)),b.addColorStop(n.colorStop,C(n.customColor[a[A].linearIndex],n.linearOpacity)),b.addColorStop(1,C(T,1))),T=b}e.moveTo(y,g),e.lineTo(S.x,S.y),e.lineTo(y+S.width,g),e.setStrokeStyle(w),e.setFillStyle(T),n.borderWidth>0&&(e.setLineWidth(n.borderWidth*t.pix),e.stroke()),e.fill()}}break;case"mount":for(let A=0;A<m.length;A++){let S=m[A];if(S!==null&&A>p&&A<c){var y=S.x-s*n.widthRatio/2,v=t.height-S.y-t.area[2];e.beginPath();var T=S.color||a[A].color,w=S.color||a[A].color;if(n.linearType!=="none"){var b=e.createLinearGradient(y,S.y,y,g);n.linearType=="opacity"?(b.addColorStop(0,C(T,n.linearOpacity)),b.addColorStop(1,C(T,1))):(b.addColorStop(0,C(n.customColor[a[A].linearIndex],n.linearOpacity)),b.addColorStop(n.colorStop,C(n.customColor[a[A].linearIndex],n.linearOpacity)),b.addColorStop(1,C(T,1))),T=b}e.moveTo(y,g),e.bezierCurveTo(S.x-S.width/4,g,S.x-S.width/4,S.y,S.x,S.y),e.bezierCurveTo(S.x+S.width/4,S.y,S.x+S.width/4,g,y+S.width,g),e.setStrokeStyle(w),e.setFillStyle(T),n.borderWidth>0&&(e.setLineWidth(n.borderWidth*t.pix),e.stroke()),e.fill()}}break;case"sharp":for(let A=0;A<m.length;A++){let S=m[A];if(S!==null&&A>p&&A<c){var y=S.x-s*n.widthRatio/2,v=t.height-S.y-t.area[2];e.beginPath();var T=S.color||a[A].color,w=S.color||a[A].color;if(n.linearType!=="none"){var b=e.createLinearGradient(y,S.y,y,g);n.linearType=="opacity"?(b.addColorStop(0,C(T,n.linearOpacity)),b.addColorStop(1,C(T,1))):(b.addColorStop(0,C(n.customColor[a[A].linearIndex],n.linearOpacity)),b.addColorStop(n.colorStop,C(n.customColor[a[A].linearIndex],n.linearOpacity)),b.addColorStop(1,C(T,1))),T=b}e.moveTo(y,g),e.quadraticCurveTo(S.x-0,g-v/4,S.x,S.y),e.quadraticCurveTo(S.x+0,g-v/4,y+S.width,g),e.setStrokeStyle(w),e.setFillStyle(T),n.borderWidth>0&&(e.setLineWidth(n.borderWidth*t.pix),e.stroke()),e.fill()}}break}if(t.dataLabel!==!1&&o===1){let A,S,P;A=[].concat(t.chartData.yAxisData.ranges[0]),S=A.pop(),P=A.shift();var m=Vt(a,S,P,l,s,t,n,g,o);Ga(m,a,r,e,t,g)}return e.restore(),{xAxisPoints:l,calPoints:m,eachSpacing:s}}function Ka(a,t,r,e){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,i=[],l=(t.height-t.area[0]-t.area[2])/t.categories.length;for(let h=0;h<t.categories.length;h++)i.push(t.area[0]+l/2+l*h);let s=k({},{type:"group",width:l/2,meterBorder:4,meterFillColor:"#FFFFFF",barBorderCircle:!1,barBorderRadius:[],seriesGap:2,linearType:"none",linearOpacity:1,customColor:[],colorStop:0},t.extra.bar),n=[];e.save();let p=-2,c=i.length+2;return t.tooltip&&t.tooltip.textList&&t.tooltip.textList.length&&o===1&&Ya(t.tooltip.offset.y,t,r,e,l),s.customColor=nt(s.linearType,s.customColor,a,r),a.forEach(function(h,f){let x,d,u;x=[].concat(t.chartData.xAxisData.ranges),u=x.pop(),d=x.shift();var g=h.data;switch(s.type){case"group":var A=te(g,d,u,i,l,t,r,o),m=Mt(g,d,u,i,l,t,r,f,a,o);n.push(m),A=Zt(A,l,a.length,f,r,t);for(let S=0;S<A.length;S++){let P=A[S];if(P!==null&&S>p&&S<c){var y=t.area[3],v=P.y-P.width/2;P.height,e.beginPath();var T=P.color||h.color,w=P.color||h.color;if(s.linearType!=="none"){var b=e.createLinearGradient(y,P.y,P.x,P.y);s.linearType=="opacity"?(b.addColorStop(0,C(T,s.linearOpacity)),b.addColorStop(1,C(T,1))):(b.addColorStop(0,C(s.customColor[h.linearIndex],s.linearOpacity)),b.addColorStop(s.colorStop,C(s.customColor[h.linearIndex],s.linearOpacity)),b.addColorStop(1,C(T,1))),T=b}if(s.barBorderRadius&&s.barBorderRadius.length===4||s.barBorderCircle===!0){const F=y,M=P.width,D=P.y-P.width/2,E=P.height;s.barBorderCircle&&(s.barBorderRadius=[M/2,M/2,0,0]);let[_,j,X,L]=s.barBorderRadius,R=Math.min(M/2,E/2);_=_>R?R:_,j=j>R?R:j,X=X>R?R:X,L=L>R?R:L,_=_<0?0:_,j=j<0?0:j,X=X<0?0:X,L=L<0?0:L,e.arc(F+L,D+L,L,-Math.PI,-Math.PI/2),e.arc(P.x-_,D+_,_,-Math.PI/2,0),e.arc(P.x-j,D+M-j,j,0,Math.PI/2),e.arc(F+X,D+M-X,X,Math.PI/2,Math.PI)}else e.moveTo(y,v),e.lineTo(P.x,v),e.lineTo(P.x,v+P.width),e.lineTo(y,v+P.width),e.lineTo(y,v),e.setLineWidth(1),e.setStrokeStyle(w);e.setFillStyle(T),e.closePath(),e.fill()}}break;case"stack":var A=Mt(g,d,u,i,l,t,r,f,a,o);n.push(A),A=za(A,l,a.length,f,r,t);for(let S=0;S<A.length;S++){let P=A[S];if(P!==null&&S>p&&S<c){e.beginPath();var T=P.color||h.color,y=P.x0;e.setFillStyle(T),e.moveTo(y,P.y-P.width/2),e.fillRect(y,P.y-P.width/2,P.height,P.width),e.closePath(),e.fill()}}break}}),t.dataLabel!==!1&&o===1&&a.forEach(function(h,f){let x,d,u;x=[].concat(t.chartData.xAxisData.ranges),u=x.pop(),d=x.shift();var g=h.data;switch(s.type){case"group":var m=te(g,d,u,i,l,t,r,o);m=Zt(m,l,a.length,f,r,t),ie(m,h,r,e,t);break;case"stack":var m=Mt(g,d,u,i,l,t,r,f,a,o);ie(m,h,r,e,t);break}}),{yAxisPoints:i,calPoints:n,eachSpacing:l}}function Za(a,t,r,e,o){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1,l=k({},{color:{},average:{}},r.extra.candle);l.color=k({},{upLine:"#f04864",upFill:"#f04864",downLine:"#2fc25b",downFill:"#2fc25b"},l.color),l.average=k({},{show:!1,name:[],day:[],color:e.color},l.average),r.extra.candle=l;let s=r.chartData.xAxisData,n=s.xAxisPoints,p=s.eachSpacing,c=[];o.save();let h=-2,f=n.length+2,x=0,d=r.width+p;return r._scrollDistance_&&r._scrollDistance_!==0&&r.enableScroll===!0&&(o.translate(r._scrollDistance_,0),h=Math.floor(-r._scrollDistance_/p)-2,f=h+r.xAxis.itemCount+4,x=-r._scrollDistance_-p*2+r.area[3],d=x+(r.xAxis.itemCount+4)*p),(l.average.show||t)&&t.forEach(function(u,g){let m,y,v;m=[].concat(r.chartData.yAxisData.ranges[u.index]),y=m.pop(),v=m.shift();var T=u.data,w=V(T,y,v,n,p,r,e,i),b=pt(w,u);for(let S=0;S<b.length;S++){let P=b[S];if(o.beginPath(),o.setStrokeStyle(u.color),o.setLineWidth(1),P.length===1)o.moveTo(P[0].x,P[0].y),o.arc(P[0].x,P[0].y,1,0,2*Math.PI);else{o.moveTo(P[0].x,P[0].y);let F=0;for(let M=0;M<P.length;M++){let D=P[M];if(F==0&&D.x>x&&(o.moveTo(D.x,D.y),F=1),M>0&&D.x>x&&D.x<d){var A=xt(P,M-1);o.bezierCurveTo(A.ctrA.x,A.ctrA.y,A.ctrB.x,A.ctrB.y,D.x,D.y)}}o.moveTo(P[0].x,P[0].y)}o.closePath(),o.stroke()}}),a.forEach(function(u,g){let m,y,v;m=[].concat(r.chartData.yAxisData.ranges[u.index]),y=m.pop(),v=m.shift();var T=u.data,w=Ea(T,y,v,n,p,r,e,i);c.push(w);var b=pt(w,u);for(let A=0;A<b[0].length;A++)if(A>h&&A<f){let S=b[0][A];o.beginPath(),T[A][1]-T[A][0]>0?(o.setStrokeStyle(l.color.upLine),o.setFillStyle(l.color.upFill),o.setLineWidth(1*r.pix),o.moveTo(S[3].x,S[3].y),o.lineTo(S[1].x,S[1].y),o.lineTo(S[1].x-p/4,S[1].y),o.lineTo(S[0].x-p/4,S[0].y),o.lineTo(S[0].x,S[0].y),o.lineTo(S[2].x,S[2].y),o.lineTo(S[0].x,S[0].y),o.lineTo(S[0].x+p/4,S[0].y),o.lineTo(S[1].x+p/4,S[1].y),o.lineTo(S[1].x,S[1].y),o.moveTo(S[3].x,S[3].y)):(o.setStrokeStyle(l.color.downLine),o.setFillStyle(l.color.downFill),o.setLineWidth(1*r.pix),o.moveTo(S[3].x,S[3].y),o.lineTo(S[0].x,S[0].y),o.lineTo(S[0].x-p/4,S[0].y),o.lineTo(S[1].x-p/4,S[1].y),o.lineTo(S[1].x,S[1].y),o.lineTo(S[2].x,S[2].y),o.lineTo(S[1].x,S[1].y),o.lineTo(S[1].x+p/4,S[1].y),o.lineTo(S[0].x+p/4,S[0].y),o.lineTo(S[0].x,S[0].y),o.moveTo(S[3].x,S[3].y)),o.closePath(),o.fill(),o.stroke()}}),o.restore(),{xAxisPoints:n,calPoints:c,eachSpacing:p}}function Qa(a,t,r,e){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,i=k({},{type:"straight",opacity:.2,addLine:!1,width:2,gradient:!1,activeType:"none"},t.extra.area);let l=t.chartData.xAxisData,s=l.xAxisPoints,n=l.eachSpacing,p=t.height-t.area[2],c=[];e.save();let h=0,f=t.width+n;return t._scrollDistance_&&t._scrollDistance_!==0&&t.enableScroll===!0&&(e.translate(t._scrollDistance_,0),h=-t._scrollDistance_-n*2+t.area[3],f=h+(t.xAxis.itemCount+4)*n),a.forEach(function(x,d){let u,g,m;u=[].concat(t.chartData.yAxisData.ranges[x.index]),g=u.pop(),m=u.shift();let y=x.data,v=V(y,g,m,s,n,t,r,o);c.push(v);let T=pt(v,x);for(let w=0;w<T.length;w++){let b=T[w];if(e.beginPath(),e.setStrokeStyle(C(x.color,i.opacity)),i.gradient){let A=e.createLinearGradient(0,t.area[0],0,t.height-t.area[2]);A.addColorStop("0",C(x.color,i.opacity)),A.addColorStop("1.0",C("#FFFFFF",.1)),e.setFillStyle(A)}else e.setFillStyle(C(x.color,i.opacity));if(e.setLineWidth(i.width*t.pix),b.length>1){let A=b[0],S=b[b.length-1];e.moveTo(A.x,A.y);let P=0;if(i.type==="curve")for(let F=0;F<b.length;F++){let M=b[F];if(P==0&&M.x>h&&(e.moveTo(M.x,M.y),P=1),F>0&&M.x>h&&M.x<f){let D=xt(b,F-1);e.bezierCurveTo(D.ctrA.x,D.ctrA.y,D.ctrB.x,D.ctrB.y,M.x,M.y)}}if(i.type==="straight")for(let F=0;F<b.length;F++){let M=b[F];P==0&&M.x>h&&(e.moveTo(M.x,M.y),P=1),F>0&&M.x>h&&M.x<f&&e.lineTo(M.x,M.y)}if(i.type==="step")for(let F=0;F<b.length;F++){let M=b[F];P==0&&M.x>h&&(e.moveTo(M.x,M.y),P=1),F>0&&M.x>h&&M.x<f&&(e.lineTo(M.x,b[F-1].y),e.lineTo(M.x,M.y))}e.lineTo(S.x,p),e.lineTo(A.x,p),e.lineTo(A.x,A.y)}else{let A=b[0];e.moveTo(A.x-n/2,A.y)}if(e.closePath(),e.fill(),i.addLine){if(x.lineType=="dash"){let A=x.dashLength?x.dashLength:8;A*=t.pix,e.setLineDash([A,A])}if(e.beginPath(),e.setStrokeStyle(x.color),e.setLineWidth(i.width*t.pix),b.length===1)e.moveTo(b[0].x,b[0].y);else{e.moveTo(b[0].x,b[0].y);let A=0;if(i.type==="curve")for(let S=0;S<b.length;S++){let P=b[S];if(A==0&&P.x>h&&(e.moveTo(P.x,P.y),A=1),S>0&&P.x>h&&P.x<f){let F=xt(b,S-1);e.bezierCurveTo(F.ctrA.x,F.ctrA.y,F.ctrB.x,F.ctrB.y,P.x,P.y)}}if(i.type==="straight")for(let S=0;S<b.length;S++){let P=b[S];A==0&&P.x>h&&(e.moveTo(P.x,P.y),A=1),S>0&&P.x>h&&P.x<f&&e.lineTo(P.x,P.y)}if(i.type==="step")for(let S=0;S<b.length;S++){let P=b[S];A==0&&P.x>h&&(e.moveTo(P.x,P.y),A=1),S>0&&P.x>h&&P.x<f&&(e.lineTo(P.x,b[S-1].y),e.lineTo(P.x,P.y))}e.moveTo(b[0].x,b[0].y)}e.stroke(),e.setLineDash([])}}t.dataPointShape!==!1&&Tt(v,x.color,x.pointShape,e,t),Se(v,x.color,x.pointShape,e,t,i,d)}),t.dataLabel!==!1&&o===1&&a.forEach(function(x,d){let u,g,m;u=[].concat(t.chartData.yAxisData.ranges[x.index]),g=u.pop(),m=u.shift();var y=x.data,v=V(y,g,m,s,n,t,r,o);gt(v,x,r,e,t)}),e.restore(),{xAxisPoints:s,calPoints:c,eachSpacing:n}}function Va(a,t,r,e){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1;k({},{type:"circle"},t.extra.scatter);let i=t.chartData.xAxisData,l=i.xAxisPoints,s=i.eachSpacing;var n=[];e.save();let p=0;return t.width+s,t._scrollDistance_&&t._scrollDistance_!==0&&t.enableScroll===!0&&(e.translate(t._scrollDistance_,0),p=-t._scrollDistance_-s*2+t.area[3],p+(t.xAxis.itemCount+4)*s),a.forEach(function(c,h){let f,x,d;f=[].concat(t.chartData.yAxisData.ranges[c.index]),x=f.pop(),d=f.shift();var u=c.data,g=V(u,x,d,l,s,t,r,o);e.beginPath(),e.setStrokeStyle(c.color),e.setFillStyle(c.color),e.setLineWidth(1*t.pix);var m=c.pointShape;if(m==="diamond")g.forEach(function(y,v){y!==null&&(e.moveTo(y.x,y.y-4.5),e.lineTo(y.x-4.5,y.y),e.lineTo(y.x,y.y+4.5),e.lineTo(y.x+4.5,y.y),e.lineTo(y.x,y.y-4.5))});else if(m==="circle")g.forEach(function(y,v){y!==null&&(e.moveTo(y.x+2.5*t.pix,y.y),e.arc(y.x,y.y,3*t.pix,0,2*Math.PI,!1))});else if(m==="square")g.forEach(function(y,v){y!==null&&(e.moveTo(y.x-3.5,y.y-3.5),e.rect(y.x-3.5,y.y-3.5,7,7))});else if(m==="triangle")g.forEach(function(y,v){y!==null&&(e.moveTo(y.x,y.y-4.5),e.lineTo(y.x-4.5,y.y+4.5),e.lineTo(y.x+4.5,y.y+4.5),e.lineTo(y.x,y.y-4.5))});else if(m==="triangle")return;e.closePath(),e.fill(),e.stroke()}),t.dataLabel!==!1&&o===1&&a.forEach(function(c,h){let f,x,d;f=[].concat(t.chartData.yAxisData.ranges[c.index]),x=f.pop(),d=f.shift();var u=c.data,g=V(u,x,d,l,s,t,r,o);gt(g,c,r,e,t)}),e.restore(),{xAxisPoints:l,calPoints:n,eachSpacing:s}}function tr(a,t,r,e){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,i=k({},{opacity:1,border:2},t.extra.bubble);let l=t.chartData.xAxisData,s=l.xAxisPoints,n=l.eachSpacing;var p=[];e.save();let c=0;return t.width+n,t._scrollDistance_&&t._scrollDistance_!==0&&t.enableScroll===!0&&(e.translate(t._scrollDistance_,0),c=-t._scrollDistance_-n*2+t.area[3],c+(t.xAxis.itemCount+4)*n),a.forEach(function(h,f){let x,d,u;x=[].concat(t.chartData.yAxisData.ranges[h.index]),d=x.pop(),u=x.shift();var g=h.data,m=V(g,d,u,s,n,t,r,o);e.beginPath(),e.setStrokeStyle(h.color),e.setLineWidth(i.border*t.pix),e.setFillStyle(C(h.color,i.opacity)),m.forEach(function(y,v){e.moveTo(y.x+y.r,y.y),e.arc(y.x,y.y,y.r*t.pix,0,2*Math.PI,!1)}),e.closePath(),e.fill(),e.stroke(),t.dataLabel!==!1&&o===1&&m.forEach(function(y,v){e.beginPath();var T=h.textSize*t.pix||r.fontSize;e.setFontSize(T),e.setFillStyle(h.textColor||"#FFFFFF"),e.setTextAlign("center"),e.fillText(String(y.t),y.x,y.y+T/2),e.closePath(),e.stroke(),e.setTextAlign("left")})}),e.restore(),{xAxisPoints:s,calPoints:p,eachSpacing:n}}function er(a,t,r,e){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,i=k({},{type:"straight",width:2,activeType:"none",linearType:"none",onShadow:!1,animation:"vertical"},t.extra.line);i.width*=t.pix;let l=t.chartData.xAxisData,s=l.xAxisPoints,n=l.eachSpacing;var p=[];e.save();let c=0,h=t.width+n;return t._scrollDistance_&&t._scrollDistance_!==0&&t.enableScroll===!0&&(e.translate(t._scrollDistance_,0),c=-t._scrollDistance_-n*2+t.area[3],h=c+(t.xAxis.itemCount+4)*n),a.forEach(function(f,x){e.beginPath(),e.setStrokeStyle(f.color),e.moveTo(-1e4,-1e4),e.lineTo(-10001,-10001),e.stroke();let d,u,g;d=[].concat(t.chartData.yAxisData.ranges[f.index]),u=d.pop(),g=d.shift();var m=f.data,y=Ra(m,u,g,s,n,t,r,i,o);p.push(y);var v=pt(y,f);if(f.lineType=="dash"){let A=f.dashLength?f.dashLength:8;A*=t.pix,e.setLineDash([A,A])}e.beginPath();var T=f.color;if(i.linearType!=="none"&&f.linearColor&&f.linearColor.length>0){for(var w=e.createLinearGradient(t.chartData.xAxisData.startX,t.height/2,t.chartData.xAxisData.endX,t.height/2),b=0;b<f.linearColor.length;b++)w.addColorStop(f.linearColor[b][0],C(f.linearColor[b][1],1));T=w}e.setStrokeStyle(T),i.onShadow==!0&&f.setShadow&&f.setShadow.length>0?e.setShadow(f.setShadow[0],f.setShadow[1],f.setShadow[2],f.setShadow[3]):e.setShadow(0,0,0,"rgba(0,0,0,0)"),e.setLineWidth(i.width),v.forEach(function(A,S){if(A.length===1)e.moveTo(A[0].x,A[0].y);else{e.moveTo(A[0].x,A[0].y);let F=0;if(i.type==="curve")for(let M=0;M<A.length;M++){let D=A[M];if(F==0&&D.x>c&&(e.moveTo(D.x,D.y),F=1),M>0&&D.x>c&&D.x<h){var P=xt(A,M-1);e.bezierCurveTo(P.ctrA.x,P.ctrA.y,P.ctrB.x,P.ctrB.y,D.x,D.y)}}if(i.type==="straight")for(let M=0;M<A.length;M++){let D=A[M];F==0&&D.x>c&&(e.moveTo(D.x,D.y),F=1),M>0&&D.x>c&&D.x<h&&e.lineTo(D.x,D.y)}if(i.type==="step")for(let M=0;M<A.length;M++){let D=A[M];F==0&&D.x>c&&(e.moveTo(D.x,D.y),F=1),M>0&&D.x>c&&D.x<h&&(e.lineTo(D.x,A[M-1].y),e.lineTo(D.x,D.y))}e.moveTo(A[0].x,A[0].y)}}),e.stroke(),e.setLineDash([]),t.dataPointShape!==!1&&Tt(y,f.color,f.pointShape,e,t),Se(y,f.color,f.pointShape,e,t,i)}),t.dataLabel!==!1&&o===1&&a.forEach(function(f,x){let d,u,g;d=[].concat(t.chartData.yAxisData.ranges[f.index]),u=d.pop(),g=d.shift();var m=f.data,y=V(m,u,g,s,n,t,r,o);gt(y,f,r,e,t)}),e.restore(),{xAxisPoints:s,calPoints:p,eachSpacing:n}}function ir(a,t,r,e){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,i=t.chartData.xAxisData,l=i.xAxisPoints,s=i.eachSpacing,n=k({},{width:s/2,barBorderCircle:!1,barBorderRadius:[],seriesGap:2,linearType:"none",linearOpacity:1,customColor:[],colorStop:0},t.extra.mix.column),p=k({},{opacity:.2,gradient:!1},t.extra.mix.area),c=k({},{width:2},t.extra.mix.line),h=t.height-t.area[2],f=[];var x=0,d=0;a.forEach(function(v,T){v.type=="column"&&(d+=1)}),e.save();let u=-2,g=l.length+2,m=0,y=t.width+s;if(t._scrollDistance_&&t._scrollDistance_!==0&&t.enableScroll===!0&&(e.translate(t._scrollDistance_,0),u=Math.floor(-t._scrollDistance_/s)-2,g=u+t.xAxis.itemCount+4,m=-t._scrollDistance_-s*2+t.area[3],y=m+(t.xAxis.itemCount+4)*s),n.customColor=nt(n.linearType,n.customColor,a,r),a.forEach(function(v,T){let w,b,A;w=[].concat(t.chartData.yAxisData.ranges[v.index]),b=w.pop(),A=w.shift();var S=v.data,P=V(S,b,A,l,s,t,r,o);if(f.push(P),v.type=="column"){P=St(P,s,d,x,r,t);for(let L=0;L<P.length;L++){let R=P[L];if(R!==null&&L>u&&L<g){var F=R.x-R.width/2;t.height-R.y-t.area[2],e.beginPath();var M=R.color||v.color,D=R.color||v.color;if(n.linearType!=="none"){var E=e.createLinearGradient(F,R.y,F,t.height-t.area[2]);n.linearType=="opacity"?(E.addColorStop(0,C(M,n.linearOpacity)),E.addColorStop(1,C(M,1))):(E.addColorStop(0,C(n.customColor[v.linearIndex],n.linearOpacity)),E.addColorStop(n.colorStop,C(n.customColor[v.linearIndex],n.linearOpacity)),E.addColorStop(1,C(M,1))),M=E}if(n.barBorderRadius&&n.barBorderRadius.length===4||n.barBorderCircle){const W=F,B=R.y,z=R.width,I=t.height-t.area[2]-R.y;n.barBorderCircle&&(n.barBorderRadius=[z/2,z/2,0,0]);let[O,H,$,tt]=n.barBorderRadius,lt=Math.min(z/2,I/2);O=O>lt?lt:O,H=H>lt?lt:H,$=$>lt?lt:$,tt=tt>lt?lt:tt,O=O<0?0:O,H=H<0?0:H,$=$<0?0:$,tt=tt<0?0:tt,e.arc(W+O,B+O,O,-Math.PI,-Math.PI/2),e.arc(W+z-H,B+H,H,-Math.PI/2,0),e.arc(W+z-$,B+I-$,$,0,Math.PI/2),e.arc(W+tt,B+I-tt,tt,Math.PI/2,Math.PI)}else e.moveTo(F,R.y),e.lineTo(F+R.width,R.y),e.lineTo(F+R.width,t.height-t.area[2]),e.lineTo(F,t.height-t.area[2]),e.lineTo(F,R.y),e.setLineWidth(1),e.setStrokeStyle(D);e.setFillStyle(M),e.closePath(),e.fill()}}x+=1}if(v.type=="area"){let L=pt(P,v);for(let R=0;R<L.length;R++){let W=L[R];if(e.beginPath(),e.setStrokeStyle(v.color),e.setStrokeStyle(C(v.color,p.opacity)),p.gradient){let B=e.createLinearGradient(0,t.area[0],0,t.height-t.area[2]);B.addColorStop("0",C(v.color,p.opacity)),B.addColorStop("1.0",C("#FFFFFF",.1)),e.setFillStyle(B)}else e.setFillStyle(C(v.color,p.opacity));if(e.setLineWidth(2*t.pix),W.length>1){var _=W[0];let B=W[W.length-1];e.moveTo(_.x,_.y);let z=0;if(v.style==="curve")for(let I=0;I<W.length;I++){let O=W[I];if(z==0&&O.x>m&&(e.moveTo(O.x,O.y),z=1),I>0&&O.x>m&&O.x<y){var j=xt(W,I-1);e.bezierCurveTo(j.ctrA.x,j.ctrA.y,j.ctrB.x,j.ctrB.y,O.x,O.y)}}else for(let I=0;I<W.length;I++){let O=W[I];z==0&&O.x>m&&(e.moveTo(O.x,O.y),z=1),I>0&&O.x>m&&O.x<y&&e.lineTo(O.x,O.y)}e.lineTo(B.x,h),e.lineTo(_.x,h),e.lineTo(_.x,_.y)}else{let B=W[0];e.moveTo(B.x-s/2,B.y)}e.closePath(),e.fill()}}if(v.type=="line"){var X=pt(P,v);X.forEach(function(L,R){if(v.lineType=="dash"){let B=v.dashLength?v.dashLength:8;B*=t.pix,e.setLineDash([B,B])}if(e.beginPath(),e.setStrokeStyle(v.color),e.setLineWidth(c.width*t.pix),L.length===1)e.moveTo(L[0].x,L[0].y);else{e.moveTo(L[0].x,L[0].y);let B=0;if(v.style=="curve")for(let z=0;z<L.length;z++){let I=L[z];if(B==0&&I.x>m&&(e.moveTo(I.x,I.y),B=1),z>0&&I.x>m&&I.x<y){var W=xt(L,z-1);e.bezierCurveTo(W.ctrA.x,W.ctrA.y,W.ctrB.x,W.ctrB.y,I.x,I.y)}}else for(let z=0;z<L.length;z++){let I=L[z];B==0&&I.x>m&&(e.moveTo(I.x,I.y),B=1),z>0&&I.x>m&&I.x<y&&e.lineTo(I.x,I.y)}e.moveTo(L[0].x,L[0].y)}e.stroke(),e.setLineDash([])})}v.type=="point"&&(v.addPoint=!0),v.addPoint==!0&&v.type!=="column"&&Tt(P,v.color,v.pointShape,e,t)}),t.dataLabel!==!1&&o===1){var x=0;a.forEach(function(T,w){let b,A,S;b=[].concat(t.chartData.yAxisData.ranges[T.index]),A=b.pop(),S=b.shift();var P=T.data,F=V(P,A,S,l,s,t,r,o);T.type!=="column"?gt(F,T,r,e,t):(F=St(F,s,d,x,r,t),gt(F,T,r,e,t),x+=1)})}return e.restore(),{xAxisPoints:l,calPoints:f,eachSpacing:s}}function Z(a,t,r,e,o,i){var l=a.extra.tooltip||{};l.horizentalLine&&a.tooltip&&e===1&&(a.type=="line"||a.type=="area"||a.type=="column"||a.type=="mount"||a.type=="candle"||a.type=="mix")&&Ha(a,t,r),r.save(),a._scrollDistance_&&a._scrollDistance_!==0&&a.enableScroll===!0&&r.translate(a._scrollDistance_,0),a.tooltip&&a.tooltip.textList&&a.tooltip.textList.length&&e===1&&Ua(a.tooltip.textList,a.tooltip.offset,a,t,r),r.restore()}function it(a,t,r,e){let o=t.chartData.xAxisData,i=o.xAxisPoints,l=o.startX,s=o.endX,n=o.eachSpacing;var p="center";(t.type=="bar"||t.type=="line"||t.type=="area"||t.type=="scatter"||t.type=="bubble")&&(p=t.xAxis.boundaryGap);var c=t.height-t.area[2],h=t.area[0];if(t.enableScroll&&t.xAxis.scrollShow){var f=t.height-t.area[2]+r.xAxisHeight,x=s-l,d=n*(i.length-1);t.type=="mount"&&t.extra&&t.extra.mount&&t.extra.mount.widthRatio&&t.extra.mount.widthRatio>1&&(t.extra.mount.widthRatio>2&&(t.extra.mount.widthRatio=2),d+=(t.extra.mount.widthRatio-1)*n);var u=x*x/d,g=0;t._scrollDistance_&&(g=-t._scrollDistance_*x/d),e.beginPath(),e.setLineCap("round"),e.setLineWidth(6*t.pix),e.setStrokeStyle(t.xAxis.scrollBackgroundColor||"#EFEBEF"),e.moveTo(l,f),e.lineTo(s,f),e.stroke(),e.closePath(),e.beginPath(),e.setLineCap("round"),e.setLineWidth(6*t.pix),e.setStrokeStyle(t.xAxis.scrollColor||"#A6A6A6"),e.moveTo(l+g,f),e.lineTo(l+g+u,f),e.stroke(),e.closePath(),e.setLineCap("butt")}if(e.save(),t._scrollDistance_&&t._scrollDistance_!==0&&e.translate(t._scrollDistance_,0),t.xAxis.calibration===!0&&(e.setStrokeStyle(t.xAxis.gridColor||"#cccccc"),e.setLineCap("butt"),e.setLineWidth(1*t.pix),i.forEach(function(y,v){v>0&&(e.beginPath(),e.moveTo(y-n/2,c),e.lineTo(y-n/2,c+3*t.pix),e.closePath(),e.stroke())})),t.xAxis.disableGrid!==!0&&(e.setStrokeStyle(t.xAxis.gridColor||"#cccccc"),e.setLineCap("butt"),e.setLineWidth(1*t.pix),t.xAxis.gridType=="dash"&&e.setLineDash([t.xAxis.dashLength*t.pix,t.xAxis.dashLength*t.pix]),t.xAxis.gridEval=t.xAxis.gridEval||1,i.forEach(function(y,v){v%t.xAxis.gridEval==0&&(e.beginPath(),e.moveTo(y,c),e.lineTo(y,h),e.stroke())}),e.setLineDash([])),t.xAxis.disabled!==!0){let y=a.length;t.xAxis.labelCount&&(t.xAxis.itemCount?y=Math.ceil(a.length/t.xAxis.itemCount*t.xAxis.labelCount):y=t.xAxis.labelCount,y-=1);let v=Math.ceil(a.length/y),T=[],w=a.length;for(let b=0;b<w;b++)b%v!==0?T.push(""):T.push(a[b]);T[w-1]=a[w-1];var m=t.xAxis.fontSize*t.pix||r.fontSize;r._xAxisTextAngle_===0?T.forEach(function(b,A){var S=t.xAxis.formatter?t.xAxis.formatter(b,A,t):b,P=-G(String(S),m,e)/2;p=="center"&&(P+=n/2),t.xAxis.scrollShow&&6*t.pix;var F=t._scrollDistance_||0,M=p=="center"?i[A]+n/2:i[A];M-Math.abs(F)>=t.area[3]-1&&M-Math.abs(F)<=t.width-t.area[1]+1&&(e.beginPath(),e.setFontSize(m),e.setFillStyle(t.xAxis.fontColor||t.fontColor),e.fillText(String(S),i[A]+P,c+t.xAxis.marginTop*t.pix+(t.xAxis.lineHeight-t.xAxis.fontSize)*t.pix/2+t.xAxis.fontSize*t.pix),e.closePath(),e.stroke())}):T.forEach(function(b,A){var S=t.xAxis.formatter?t.xAxis.formatter(b):b,P=t._scrollDistance_||0,F=p=="center"?i[A]+n/2:i[A];if(F-Math.abs(P)>=t.area[3]-1&&F-Math.abs(P)<=t.width-t.area[1]+1){e.save(),e.beginPath(),e.setFontSize(m),e.setFillStyle(t.xAxis.fontColor||t.fontColor);var M=G(String(S),m,e),D=i[A];p=="center"&&(D=i[A]+n/2),t.xAxis.scrollShow&&6*t.pix;var E=c+t.xAxis.marginTop*t.pix+m-m*Math.abs(Math.sin(r._xAxisTextAngle_));t.xAxis.rotateAngle<0?(D-=m/2,M=0):(D+=m/2,M=-M),e.translate(D,E),e.rotate(-1*r._xAxisTextAngle_),e.fillText(String(S),M,0),e.closePath(),e.stroke(),e.restore()}})}e.restore(),t.xAxis.title&&(e.beginPath(),e.setFontSize(t.xAxis.titleFontSize*t.pix),e.setFillStyle(t.xAxis.titleFontColor),e.fillText(String(t.xAxis.title),t.width-t.area[1]+t.xAxis.titleOffsetX*t.pix,t.height-t.area[2]+t.xAxis.marginTop*t.pix+(t.xAxis.lineHeight-t.xAxis.titleFontSize)*t.pix/2+(t.xAxis.titleFontSize+t.xAxis.titleOffsetY)*t.pix),e.closePath(),e.stroke()),t.xAxis.axisLine&&(e.beginPath(),e.setStrokeStyle(t.xAxis.axisLineColor),e.setLineWidth(1*t.pix),e.moveTo(l,t.height-t.area[2]),e.lineTo(s,t.height-t.area[2]),e.stroke())}function st(a,t,r,e){if(t.yAxis.disableGrid===!0)return;let i=(t.height-t.area[0]-t.area[2])/t.yAxis.splitNumber,l=t.area[3],s=t.chartData.xAxisData.xAxisPoints,n=t.chartData.xAxisData.eachSpacing,p=n*(s.length-1);t.type=="mount"&&t.extra&&t.extra.mount&&t.extra.mount.widthRatio&&t.extra.mount.widthRatio>1&&(t.extra.mount.widthRatio>2&&(t.extra.mount.widthRatio=2),p+=(t.extra.mount.widthRatio-1)*n);let c=l+p,h=[],f=1;t.xAxis.axisLine===!1&&(f=0);for(let x=f;x<t.yAxis.splitNumber+1;x++)h.push(t.height-t.area[2]-i*x);e.save(),t._scrollDistance_&&t._scrollDistance_!==0&&e.translate(t._scrollDistance_,0),t.yAxis.gridType=="dash"&&e.setLineDash([t.yAxis.dashLength*t.pix,t.yAxis.dashLength*t.pix]),e.setStrokeStyle(t.yAxis.gridColor),e.setLineWidth(1*t.pix),h.forEach(function(x,d){e.beginPath(),e.moveTo(l,x),e.lineTo(c,x),e.stroke()}),e.setLineDash([]),e.restore()}function at(a,t,r,e){if(t.yAxis.disabled===!0)return;var o=t.height-t.area[0]-t.area[2],i=o/t.yAxis.splitNumber,l=t.area[3],s=t.width-t.area[1],n=t.height-t.area[2];e.beginPath(),e.setFillStyle(t.background),t.enableScroll==!0&&t.xAxis.scrollPosition&&t.xAxis.scrollPosition!=="left"&&e.fillRect(0,0,l,n+2*t.pix),t.enableScroll==!0&&t.xAxis.scrollPosition&&t.xAxis.scrollPosition!=="right"&&e.fillRect(s,0,t.width,n+2*t.pix),e.closePath(),e.stroke();let p=t.area[3],c=t.width-t.area[1],h=t.area[3]+(t.width-t.area[1]-t.area[3])/2;if(t.yAxis.data)for(let x=0;x<t.yAxis.data.length;x++){let d=t.yAxis.data[x];var f=[];if(d.type==="categories")for(let u=0;u<=d.categories.length;u++)f.push(t.area[0]+o/d.categories.length/2+o/d.categories.length*u);else for(let u=0;u<=t.yAxis.splitNumber;u++)f.push(t.area[0]+i*u);if(d.disabled!==!0){let u=t.chartData.yAxisData.rangesFormat[x],g=d.fontSize?d.fontSize*t.pix:r.fontSize,m=t.chartData.yAxisData.yAxisWidth[x],y=d.textAlign||"right";if(u.forEach(function(v,T){var w=f[T];e.beginPath(),e.setFontSize(g),e.setLineWidth(1*t.pix),e.setStrokeStyle(d.axisLineColor||"#cccccc"),e.setFillStyle(d.fontColor||t.fontColor);let b=0,A=4*t.pix;if(m.position=="left"){switch(d.calibration==!0&&(e.moveTo(p,w),e.lineTo(p-3*t.pix,w),A+=3*t.pix),y){case"left":e.setTextAlign("left"),b=p-m.width;break;case"right":e.setTextAlign("right"),b=p-A;break;default:e.setTextAlign("center"),b=p-m.width/2}e.fillText(String(v),b,w+g/2-3*t.pix)}else if(m.position=="right"){switch(d.calibration==!0&&(e.moveTo(c,w),e.lineTo(c+3*t.pix,w),A+=3*t.pix),y){case"left":e.setTextAlign("left"),b=c+A;break;case"right":e.setTextAlign("right"),b=c+m.width;break;default:e.setTextAlign("center"),b=c+m.width/2}e.fillText(String(v),b,w+g/2-3*t.pix)}else if(m.position=="center"){switch(d.calibration==!0&&(e.moveTo(h,w),e.lineTo(h-3*t.pix,w),A+=3*t.pix),y){case"left":e.setTextAlign("left"),b=h-m.width;break;case"right":e.setTextAlign("right"),b=h-A;break;default:e.setTextAlign("center"),b=h-m.width/2}e.fillText(String(v),b,w+g/2-3*t.pix)}e.closePath(),e.stroke(),e.setTextAlign("left")}),d.axisLine!==!1&&(e.beginPath(),e.setStrokeStyle(d.axisLineColor||"#cccccc"),e.setLineWidth(1*t.pix),m.position=="left"?(e.moveTo(p,t.height-t.area[2]),e.lineTo(p,t.area[0])):m.position=="right"?(e.moveTo(c,t.height-t.area[2]),e.lineTo(c,t.area[0])):m.position=="center"&&(e.moveTo(h,t.height-t.area[2]),e.lineTo(h,t.area[0])),e.stroke()),t.yAxis.showTitle){let v=d.titleFontSize*t.pix||r.fontSize,T=d.title;e.beginPath(),e.setFontSize(v),e.setFillStyle(d.titleFontColor||t.fontColor),m.position=="left"?e.fillText(T,p-G(T,v,e)/2+(d.titleOffsetX||0),t.area[0]-(10-(d.titleOffsetY||0))*t.pix):m.position=="right"?e.fillText(T,c-G(T,v,e)/2+(d.titleOffsetX||0),t.area[0]-(10-(d.titleOffsetY||0))*t.pix):m.position=="center"&&e.fillText(T,h-G(T,v,e)/2+(d.titleOffsetX||0),t.area[0]-(10-(d.titleOffsetY||0))*t.pix),e.closePath(),e.stroke()}m.position=="left"?p-=m.width+t.yAxis.padding*t.pix:c+=m.width+t.yAxis.padding*t.pix}}}function K(a,t,r,e,o){if(t.legend.show===!1)return;let i=o.legendData,l=i.points,s=i.area,n=t.legend.padding*t.pix,p=t.legend.fontSize*t.pix,c=15*t.pix,h=5*t.pix,f=t.legend.itemGap*t.pix,x=Math.max(t.legend.lineHeight*t.pix,p);e.beginPath(),e.setLineWidth(t.legend.borderWidth*t.pix),e.setStrokeStyle(t.legend.borderColor),e.setFillStyle(t.legend.backgroundColor),e.moveTo(s.start.x,s.start.y),e.rect(s.start.x,s.start.y,s.width,s.height),e.closePath(),e.fill(),e.stroke(),l.forEach(function(d,u){let g=0,m=0;g=i.widthArr[u],m=i.heightArr[u];let y=0,v=0;if(t.legend.position=="top"||t.legend.position=="bottom"){switch(t.legend.float){case"left":y=s.start.x+n;break;case"right":y=s.start.x+s.width-g;break;default:y=s.start.x+(s.width-g)/2}v=s.start.y+n+u*x}else u==0?g=0:g=i.widthArr[u-1],y=s.start.x+n+g,v=s.start.y+n+(s.height-m)/2;e.setFontSize(r.fontSize);for(let T=0;T<d.length;T++){let w=d[T];switch(w.area=[0,0,0,0],w.area[0]=y,w.area[1]=v,w.area[3]=v+x,e.beginPath(),e.setLineWidth(1*t.pix),e.setStrokeStyle(w.show?w.color:t.legend.hiddenColor),e.setFillStyle(w.show?w.color:t.legend.hiddenColor),w.legendShape){case"line":e.moveTo(y,v+.5*x-2*t.pix),e.fillRect(y,v+.5*x-2*t.pix,15*t.pix,4*t.pix);break;case"triangle":e.moveTo(y+7.5*t.pix,v+.5*x-5*t.pix),e.lineTo(y+2.5*t.pix,v+.5*x+5*t.pix),e.lineTo(y+12.5*t.pix,v+.5*x+5*t.pix),e.lineTo(y+7.5*t.pix,v+.5*x-5*t.pix);break;case"diamond":e.moveTo(y+7.5*t.pix,v+.5*x-5*t.pix),e.lineTo(y+2.5*t.pix,v+.5*x),e.lineTo(y+7.5*t.pix,v+.5*x+5*t.pix),e.lineTo(y+12.5*t.pix,v+.5*x),e.lineTo(y+7.5*t.pix,v+.5*x-5*t.pix);break;case"circle":e.moveTo(y+7.5*t.pix,v+.5*x),e.arc(y+7.5*t.pix,v+.5*x,5*t.pix,0,2*Math.PI);break;case"rect":e.moveTo(y,v+.5*x-5*t.pix),e.fillRect(y,v+.5*x-5*t.pix,15*t.pix,10*t.pix);break;case"square":e.moveTo(y+5*t.pix,v+.5*x-5*t.pix),e.fillRect(y+5*t.pix,v+.5*x-5*t.pix,10*t.pix,10*t.pix);break;case"none":break;default:e.moveTo(y,v+.5*x-5*t.pix),e.fillRect(y,v+.5*x-5*t.pix,15*t.pix,10*t.pix)}e.closePath(),e.fill(),e.stroke(),y+=c+h;let b=.5*x+.5*p-2;const A=w.legendText?w.legendText:w.name;e.beginPath(),e.setFontSize(p),e.setFillStyle(w.show?t.legend.fontColor:t.legend.hiddenColor),e.fillText(A,y,v+b),e.closePath(),e.stroke(),t.legend.position=="top"||t.legend.position=="bottom"?(y+=G(A,p,e)+f,w.area[2]=y):(w.area[2]=y+G(A,p,e)+f,y-=c+h,v+=x)}})}function ae(a,t,r,e){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,i=k({},{activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,ringWidth:30,customRadius:0,border:!1,borderWidth:2,borderColor:"#FFFFFF",centerColor:"#FFFFFF",linearType:"none",customColor:[]},t.type=="pie"?t.extra.pie:t.extra.ring),l={x:t.area[3]+(t.width-t.area[1]-t.area[3])/2,y:t.area[0]+(t.height-t.area[0]-t.area[2])/2};r.pieChartLinePadding==0&&(r.pieChartLinePadding=i.activeRadius*t.pix);var s=Math.min((t.width-t.area[1]-t.area[3])/2-r.pieChartLinePadding-r.pieChartTextPadding-r._pieTextMaxLength_,(t.height-t.area[0]-t.area[2])/2-r.pieChartLinePadding-r.pieChartTextPadding);s=s<10?10:s,i.customRadius>0&&(s=i.customRadius*t.pix),a=Ot(a,s,o);var n=i.activeRadius*t.pix;if(i.customColor=nt(i.linearType,i.customColor,a,r),a=a.map(function(c){return c._start_+=i.offsetAngle*Math.PI/180,c}),a.forEach(function(c,h){t.tooltip&&t.tooltip.index==h&&(e.beginPath(),e.setFillStyle(C(c.color,i.activeOpacity||.5)),e.moveTo(l.x,l.y),e.arc(l.x,l.y,c._radius_+n,c._start_,c._start_+2*c._proportion_*Math.PI),e.closePath(),e.fill()),e.beginPath(),e.setLineWidth(i.borderWidth*t.pix),e.lineJoin="round",e.setStrokeStyle(i.borderColor);var f=c.color;if(i.linearType=="custom"){var x;e.createCircularGradient?x=e.createCircularGradient(l.x,l.y,c._radius_):x=e.createRadialGradient(l.x,l.y,0,l.x,l.y,c._radius_),x.addColorStop(0,C(i.customColor[c.linearIndex],1)),x.addColorStop(1,C(c.color,1)),f=x}e.setFillStyle(f),e.moveTo(l.x,l.y),e.arc(l.x,l.y,c._radius_,c._start_,c._start_+2*c._proportion_*Math.PI),e.closePath(),e.fill(),i.border==!0&&e.stroke()}),t.type==="ring"){var p=s*.6;typeof i.ringWidth=="number"&&i.ringWidth>0&&(p=Math.max(0,s-i.ringWidth*t.pix)),e.beginPath(),e.setFillStyle(i.centerColor),e.moveTo(l.x,l.y),e.arc(l.x,l.y,p,0,2*Math.PI),e.closePath(),e.fill()}return t.dataLabel!==!1&&o===1&&be(a,t,r,e,s,l),o===1&&t.type==="ring"&&Et(t,r,e,l),{center:l,radius:s,series:a}}function ar(a,t,r,e){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,i=k({},{type:"area",activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,border:!1,borderWidth:2,borderColor:"#FFFFFF",linearType:"none",customColor:[]},t.extra.rose);r.pieChartLinePadding==0&&(r.pieChartLinePadding=i.activeRadius*t.pix);var l={x:t.area[3]+(t.width-t.area[1]-t.area[3])/2,y:t.area[0]+(t.height-t.area[0]-t.area[2])/2},s=Math.min((t.width-t.area[1]-t.area[3])/2-r.pieChartLinePadding-r.pieChartTextPadding-r._pieTextMaxLength_,(t.height-t.area[0]-t.area[2])/2-r.pieChartLinePadding-r.pieChartTextPadding);s=s<10?10:s;var n=i.minRadius||s*.5;s<n&&(s=n+10),a=ve(a,i.type,n,s,o);var p=i.activeRadius*t.pix;return i.customColor=nt(i.linearType,i.customColor,a,r),a=a.map(function(c){return c._start_+=(i.offsetAngle||0)*Math.PI/180,c}),a.forEach(function(c,h){t.tooltip&&t.tooltip.index==h&&(e.beginPath(),e.setFillStyle(C(c.color,i.activeOpacity||.5)),e.moveTo(l.x,l.y),e.arc(l.x,l.y,p+c._radius_,c._start_,c._start_+2*c._rose_proportion_*Math.PI),e.closePath(),e.fill()),e.beginPath(),e.setLineWidth(i.borderWidth*t.pix),e.lineJoin="round",e.setStrokeStyle(i.borderColor);var f=c.color;if(i.linearType=="custom"){var x;e.createCircularGradient?x=e.createCircularGradient(l.x,l.y,c._radius_):x=e.createRadialGradient(l.x,l.y,0,l.x,l.y,c._radius_),x.addColorStop(0,C(i.customColor[c.linearIndex],1)),x.addColorStop(1,C(c.color,1)),f=x}e.setFillStyle(f),e.moveTo(l.x,l.y),e.arc(l.x,l.y,c._radius_,c._start_,c._start_+2*c._rose_proportion_*Math.PI),e.closePath(),e.fill(),i.border==!0&&e.stroke()}),t.dataLabel!==!1&&o===1&&be(a,t,r,e,s,l),{center:l,radius:s,series:a}}function rr(a,t,r,e){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,i=k({},{startAngle:.75,endAngle:.25,type:"default",direction:"cw",lineCap:"round",width:12,gap:2,linearType:"none",customColor:[]},t.extra.arcbar);a=Da(a,i,o);var l;i.centerX||i.centerY?l={x:i.centerX?i.centerX:t.width/2,y:i.centerY?i.centerY:t.height/2}:l={x:t.width/2,y:t.height/2};var s;i.radius?s=i.radius:(s=Math.min(l.x,l.y),s-=5*t.pix,s-=i.width/2),s=s<10?10:s,i.customColor=nt(i.linearType,i.customColor,a,r);for(let c=0;c<a.length;c++){let h=a[c];e.setLineWidth(i.width*t.pix),e.setStrokeStyle(i.backgroundColor||"#E9E9E9"),e.setLineCap(i.lineCap),e.beginPath(),i.type=="default"?e.arc(l.x,l.y,s-(i.width*t.pix+i.gap*t.pix)*c,i.startAngle*Math.PI,i.endAngle*Math.PI,i.direction=="ccw"):e.arc(l.x,l.y,s-(i.width*t.pix+i.gap*t.pix)*c,0,2*Math.PI,i.direction=="ccw"),e.stroke();var n=h.color;if(i.linearType=="custom"){var p=e.createLinearGradient(l.x-s,l.y,l.x+s,l.y);p.addColorStop(1,C(i.customColor[h.linearIndex],1)),p.addColorStop(0,C(h.color,1)),n=p}e.setLineWidth(i.width*t.pix),e.setStrokeStyle(n),e.setLineCap(i.lineCap),e.beginPath(),e.arc(l.x,l.y,s-(i.width*t.pix+i.gap*t.pix)*c,i.startAngle*Math.PI,h._proportion_*Math.PI,i.direction=="ccw"),e.stroke()}return Et(t,r,e,l),{center:l,radius:s,series:a}}function or(a,t,r,e,o){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1,l=k({},{type:"default",startAngle:.75,endAngle:.25,width:15,labelOffset:13,splitLine:{fixRadius:0,splitNumber:10,width:15,color:"#FFFFFF",childNumber:5,childWidth:5},pointer:{width:15,color:"auto"}},r.extra.gauge);l.oldAngle==null&&(l.oldAngle=l.startAngle),l.oldData==null&&(l.oldData=0),a=Fa(a,l.startAngle,l.endAngle);var s={x:r.width/2,y:r.height/2},n=Math.min(s.x,s.y);n-=5*r.pix,n-=l.width/2,n=n<10?10:n;var p=n-l.width,c=0;if(l.type=="progress"){var h=n-l.width*3;o.beginPath();let f=o.createLinearGradient(s.x,s.y-h,s.x,s.y+h);f.addColorStop("0",C(t[0].color,.3)),f.addColorStop("1.0",C("#FFFFFF",.1)),o.setFillStyle(f),o.arc(s.x,s.y,h,0,2*Math.PI,!1),o.fill(),o.setLineWidth(l.width),o.setStrokeStyle(C(t[0].color,.3)),o.setLineCap("round"),o.beginPath(),o.arc(s.x,s.y,p,l.startAngle*Math.PI,l.endAngle*Math.PI,!1),o.stroke(),l.endAngle<l.startAngle?c=2+l.endAngle-l.startAngle:c=l.startAngle-l.endAngle,c/l.splitLine.splitNumber;let x=c/l.splitLine.splitNumber/l.splitLine.childNumber,d=-n-l.width*.5-l.splitLine.fixRadius,u=-n-l.width-l.splitLine.fixRadius+l.splitLine.width;o.save(),o.translate(s.x,s.y),o.rotate((l.startAngle-1)*Math.PI);let g=l.splitLine.splitNumber*l.splitLine.childNumber+1,m=t[0].data*i;for(let T=0;T<g;T++)o.beginPath(),m>T/g?o.setStrokeStyle(C(t[0].color,1)):o.setStrokeStyle(C(t[0].color,.3)),o.setLineWidth(3*r.pix),o.moveTo(d,0),o.lineTo(u,0),o.stroke(),o.rotate(x*Math.PI);o.restore(),t=_a(t,l,i),o.setLineWidth(l.width),o.setStrokeStyle(t[0].color),o.setLineCap("round"),o.beginPath(),o.arc(s.x,s.y,p,l.startAngle*Math.PI,t[0]._proportion_*Math.PI,!1),o.stroke();let y=n-l.width*2.5;o.save(),o.translate(s.x,s.y),o.rotate((t[0]._proportion_-1)*Math.PI),o.beginPath(),o.setLineWidth(l.width/3);let v=o.createLinearGradient(0,-y*.6,0,y*.6);v.addColorStop("0",C("#FFFFFF",0)),v.addColorStop("0.5",C(t[0].color,1)),v.addColorStop("1.0",C("#FFFFFF",0)),o.setStrokeStyle(v),o.arc(0,0,y,.85*Math.PI,1.15*Math.PI,!1),o.stroke(),o.beginPath(),o.setLineWidth(1),o.setStrokeStyle(t[0].color),o.setFillStyle(t[0].color),o.moveTo(-y-l.width/3/2,-4),o.lineTo(-y-l.width/3/2-4,0),o.lineTo(-y-l.width/3/2,4),o.lineTo(-y-l.width/3/2,-4),o.stroke(),o.fill(),o.restore()}else{o.setLineWidth(l.width),o.setLineCap("butt");for(let m=0;m<a.length;m++){let y=a[m];o.beginPath(),o.setStrokeStyle(y.color),o.arc(s.x,s.y,n,y._startAngle_*Math.PI,y._endAngle_*Math.PI,!1),o.stroke()}o.save(),l.endAngle<l.startAngle?c=2+l.endAngle-l.startAngle:c=l.startAngle-l.endAngle;let f=c/l.splitLine.splitNumber,x=c/l.splitLine.splitNumber/l.splitLine.childNumber,d=-n-l.width*.5-l.splitLine.fixRadius,u=-n-l.width*.5-l.splitLine.fixRadius+l.splitLine.width,g=-n-l.width*.5-l.splitLine.fixRadius+l.splitLine.childWidth;o.translate(s.x,s.y),o.rotate((l.startAngle-1)*Math.PI);for(let m=0;m<l.splitLine.splitNumber+1;m++)o.beginPath(),o.setStrokeStyle(l.splitLine.color),o.setLineWidth(2*r.pix),o.moveTo(d,0),o.lineTo(u,0),o.stroke(),o.rotate(f*Math.PI);o.restore(),o.save(),o.translate(s.x,s.y),o.rotate((l.startAngle-1)*Math.PI);for(let m=0;m<l.splitLine.splitNumber*l.splitLine.childNumber+1;m++)o.beginPath(),o.setStrokeStyle(l.splitLine.color),o.setLineWidth(1*r.pix),o.moveTo(d,0),o.lineTo(g,0),o.stroke(),o.rotate(x*Math.PI);o.restore(),t=La(t,a,l,i);for(let m=0;m<t.length;m++){let y=t[m];o.save(),o.translate(s.x,s.y),o.rotate((y._proportion_-1)*Math.PI),o.beginPath(),o.setFillStyle(y.color),o.moveTo(l.pointer.width,0),o.lineTo(0,-l.pointer.width/2),o.lineTo(-p,0),o.lineTo(0,l.pointer.width/2),o.lineTo(l.pointer.width,0),o.closePath(),o.fill(),o.beginPath(),o.setFillStyle("#FFFFFF"),o.arc(0,0,l.pointer.width/6,0,2*Math.PI,!1),o.fill(),o.restore()}r.dataLabel!==!1&&ja(l,n,s,r,e,o)}return Et(r,e,o,s),i===1&&r.type==="gauge"&&(r.extra.gauge.oldAngle=t[0]._proportion_,r.extra.gauge.oldData=t[0].data),{center:s,radius:n,innerRadius:p,categories:a,totalAngle:c}}function nr(a,t,r,e){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,i=k({},{gridColor:"#cccccc",gridType:"radar",gridEval:1,axisLabel:!1,axisLabelTofix:0,labelShow:!0,labelColor:"#666666",labelPointShow:!1,labelPointRadius:3,labelPointColor:"#cccccc",opacity:.2,gridCount:3,border:!1,borderWidth:2,linearType:"none",customColor:[]},t.extra.radar),l=ha(t.categories.length),s={x:t.area[3]+(t.width-t.area[1]-t.area[3])/2,y:t.area[0]+(t.height-t.area[0]-t.area[2])/2},n=(t.width-t.area[1]-t.area[3])/2,p=(t.height-t.area[0]-t.area[2])/2,c=Math.min(n-(ca(t.categories,r.fontSize,e)+r.radarLabelTextMargin),p-r.radarLabelTextMargin);c-=r.radarLabelTextMargin*t.pix,c=c<10?10:c,c=i.radius?i.radius:c,e.beginPath(),e.setLineWidth(1*t.pix),e.setStrokeStyle(i.gridColor),l.forEach(function(d,u){var g=rt(c*Math.cos(d),c*Math.sin(d),s);e.moveTo(s.x,s.y),u%i.gridEval==0&&e.lineTo(g.x,g.y)}),e.stroke(),e.closePath();for(var h=function(u){var g={};if(e.beginPath(),e.setLineWidth(1*t.pix),e.setStrokeStyle(i.gridColor),i.gridType=="radar")l.forEach(function(y,v){var T=rt(c/i.gridCount*u*Math.cos(y),c/i.gridCount*u*Math.sin(y),s);v===0?(g=T,e.moveTo(T.x,T.y)):e.lineTo(T.x,T.y)}),e.lineTo(g.x,g.y);else{var m=rt(c/i.gridCount*u*Math.cos(1.5),c/i.gridCount*u*Math.sin(1.5),s);e.arc(s.x,s.y,s.y-m.y,0,2*Math.PI,!1)}e.stroke(),e.closePath()},f=1;f<=i.gridCount;f++)h(f);i.customColor=nt(i.linearType,i.customColor,a,r);var x=Ca(l,s,c,a,t,o);if(x.forEach(function(d,u){e.beginPath(),e.setLineWidth(i.borderWidth*t.pix),e.setStrokeStyle(d.color);var g=C(d.color,i.opacity);if(i.linearType=="custom"){var m;e.createCircularGradient?m=e.createCircularGradient(s.x,s.y,c):m=e.createRadialGradient(s.x,s.y,0,s.x,s.y,c),m.addColorStop(0,C(i.customColor[a[u].linearIndex],i.opacity)),m.addColorStop(1,C(d.color,i.opacity)),g=m}if(e.setFillStyle(g),d.data.forEach(function(v,T){T===0?e.moveTo(v.position.x,v.position.y):e.lineTo(v.position.x,v.position.y)}),e.closePath(),e.fill(),i.border===!0&&e.stroke(),e.closePath(),t.dataPointShape!==!1){var y=d.data.map(function(v){return v.position});Tt(y,d.color,d.pointShape,e,t)}}),i.axisLabel===!0){const d=Math.max(i.max,Math.max.apply(null,At(a))),u=c/i.gridCount,g=t.fontSize*t.pix;e.setFontSize(g),e.setFillStyle(t.fontColor),e.setTextAlign("left");for(var f=0;f<i.gridCount+1;f++){let y=f*d/i.gridCount;y=y.toFixed(i.axisLabelTofix),e.fillText(String(y),s.x+3*t.pix,s.y-f*u+g/2)}}return Xa(l,c,s,t,r,e),t.dataLabel!==!1&&o===1&&(x.forEach(function(d,u){e.beginPath();var g=d.textSize*t.pix||r.fontSize;e.setFontSize(g),e.setFillStyle(d.textColor||t.fontColor),d.data.forEach(function(m,y){Math.abs(m.position.x-s.x)<2?m.position.y<s.y?(e.setTextAlign("center"),e.fillText(m.value,m.position.x,m.position.y-4)):(e.setTextAlign("center"),e.fillText(m.value,m.position.x,m.position.y+g+2)):m.position.x<s.x?(e.setTextAlign("right"),e.fillText(m.value,m.position.x-4,m.position.y+g/2-2)):(e.setTextAlign("left"),e.fillText(m.value,m.position.x+4,m.position.y+g/2-2))}),e.closePath(),e.stroke()}),e.setTextAlign("left")),{center:s,radius:c,angleList:l}}function ft(a,t){var r=Array(2),e=a*2003750834e-2/180,o=Math.log(Math.tan((90+t)*Math.PI/360))/(Math.PI/180);return o=o*2003750834e-2/180,r[0]=e,r[1]=o,r}function lr(a){var t={},r;t.xMin=180,t.xMax=0,t.yMin=90,t.yMax=0;for(var e=0;e<a.length;e++)for(var o=a[e].geometry.coordinates,i=0;i<o.length;i++){r=o[i],r.length==1&&(r=r[0]);for(var l=0;l<r.length;l++){var s=r[l][0],n=r[l][1],p={x:s,y:n};t.xMin=t.xMin<p.x?t.xMin:p.x,t.xMax=t.xMax>p.x?t.xMax:p.x,t.yMin=t.yMin<p.y?t.yMin:p.y,t.yMax=t.yMax>p.y?t.yMax:p.y}}return t}function re(a,t,r,e,o,i){return{x:(t-r.xMin)*e+o,y:(r.yMax-a)*e+i}}function sr(a,t,r,e,o,i){return{x:(t-o)/e+r.xMin,y:r.yMax-(a-i)/e}}function cr(a,t,r){return!(t[1]==r[1]||t[1]>a[1]&&r[1]>a[1]||t[1]<a[1]&&r[1]<a[1]||t[1]==a[1]&&r[1]>a[1]||r[1]==a[1]&&t[1]>a[1]||t[0]<a[0]&&r[1]<a[1]||r[0]-(r[0]-t[0])*(r[1]-a[1])/(r[1]-t[1])<a[0])}function hr(a,t,r){let e=0;for(let o=0;o<t.length;o++){let i=t[o][0];t.length==1&&(i=t[o][0]);for(let l=0;l<i.length-1;l++){let s=i[l],n=i[l+1];r&&(s=ft(i[l][0],i[l][1]),n=ft(i[l+1][0],i[l+1][1])),cr(a,s,n)&&(e+=1)}}return e%2==1}function fr(a,t,r,e){var o=k({},{border:!0,mercator:!1,borderWidth:1,active:!0,borderColor:"#666666",fillOpacity:.6,activeBorderColor:"#f04864",activeFillColor:"#facc14",activeFillOpacity:1},t.extra.map),i,l,s=a,n=lr(s);if(o.mercator){var p=ft(n.xMax,n.yMax),c=ft(n.xMin,n.yMin);n.xMax=p[0],n.yMax=p[1],n.xMin=c[0],n.yMin=c[1]}for(var h=t.width/Math.abs(n.xMax-n.xMin),f=t.height/Math.abs(n.yMax-n.yMin),x=h<f?h:f,d=t.width/2-Math.abs(n.xMax-n.xMin)/2*x,u=t.height/2-Math.abs(n.yMax-n.yMin)/2*x,g=0;g<s.length;g++){e.beginPath(),e.setLineWidth(o.borderWidth*t.pix),e.setStrokeStyle(o.borderColor),e.setFillStyle(C(a[g].color,a[g].fillOpacity||o.fillOpacity)),o.active==!0&&t.tooltip&&t.tooltip.index==g&&(e.setStrokeStyle(o.activeBorderColor),e.setFillStyle(C(o.activeFillColor,o.activeFillOpacity)));for(var m=s[g].geometry.coordinates,y=0;y<m.length;y++){i=m[y],i.length==1&&(i=i[0]);for(var v=0;v<i.length;v++){var T=Array(2);o.mercator?T=ft(i[v][0],i[v][1]):T=i[v],l=re(T[1],T[0],n,x,d,u),v===0?(e.beginPath(),e.moveTo(l.x,l.y)):e.lineTo(l.x,l.y)}e.fill(),o.border==!0&&e.stroke()}}if(t.dataLabel==!0)for(var g=0;g<s.length;g++){var w=s[g].properties.centroid;if(w){o.mercator&&(w=ft(s[g].properties.centroid[0],s[g].properties.centroid[1])),l=re(w[1],w[0],n,x,d,u);let A=s[g].textSize*t.pix||r.fontSize,S=s[g].textColor||t.fontColor;o.active&&o.activeTextColor&&t.tooltip&&t.tooltip.index==g&&(S=o.activeTextColor);let P=s[g].properties.name;e.beginPath(),e.setFontSize(A),e.setFillStyle(S),e.fillText(P,l.x-G(P,A,e)/2,l.y+A/2),e.closePath(),e.stroke()}}t.chartData.mapData={bounds:n,scale:x,xoffset:d,yoffset:u,mercator:o.mercator},Z(t,r,e,1),e.draw()}function ht(a,t,r){r=r==0?1:r;for(var e=[],o=0;o<r;o++)e[o]=Math.random();return Math.floor(e.reduce(function(i,l){return i+l})/r*(t-a))+a}function _t(a,t,r,e){var o=!1;for(let i=0;i<t.length;i++)if(t[i].area)if(a[3]<t[i].area[1]||a[0]>t[i].area[2]||a[1]>t[i].area[3]||a[2]<t[i].area[0])if(a[0]<0||a[1]<0||a[2]>r||a[3]>e){o=!0;break}else o=!1;else{o=!0;break}return o}function xr(a,t,r){let e=a.series;switch(t){case"normal":for(let i=0;i<e.length;i++){let l=e[i].name,s=e[i].textSize*a.pix,n=G(l,s,r),p,c,h,f=0;for(;f++,p=ht(-a.width/2,a.width/2,5)-n/2,c=ht(-a.height/2,a.height/2,5)+s/2,h=[p-5+a.width/2,c-5-s+a.height/2,p+n+5+a.width/2,c+5+a.height/2],!!_t(h,e,a.width,a.height);)if(f==1e3){h=[-100,-100,-100,-100];break}e[i].area=h}break;case"vertical":let o=function(){return Math.random()>.7};for(let i=0;i<e.length;i++){let l=e[i].name,s=e[i].textSize*a.pix,n=G(l,s,r),p=o(),c,h,f,x,d=0;for(;;){d++;let u;if(p?(c=ht(-a.width/2,a.width/2,5)-n/2,h=ht(-a.height/2,a.height/2,5)+s/2,f=[h-5-n+a.width/2,-c-5+a.height/2,h+5+a.width/2,-c+s+5+a.height/2],x=[a.width-(a.width/2-a.height/2)-(-c+s+5+a.height/2)-5,a.height/2-a.width/2+(h-5-n+a.width/2)-5,a.width-(a.width/2-a.height/2)-(-c+s+5+a.height/2)+s,a.height/2-a.width/2+(h-5-n+a.width/2)+n+5],u=_t(x,e,a.height,a.width)):(c=ht(-a.width/2,a.width/2,5)-n/2,h=ht(-a.height/2,a.height/2,5)+s/2,f=[c-5+a.width/2,h-5-s+a.height/2,c+n+5+a.width/2,h+5+a.height/2],u=_t(f,e,a.width,a.height)),!u)break;if(d==1e3){f=[-1e3,-1e3,-1e3,-1e3];break}}p?(e[i].area=x,e[i].areav=f):e[i].area=f,e[i].rotate=p}break}return e}function pr(a,t,r,e){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,i=k({},{type:"normal",autoColors:!0},t.extra.word);t.chartData.wordCloudData||(t.chartData.wordCloudData=xr(t,i.type,e)),e.beginPath(),e.setFillStyle(t.background),e.rect(0,0,t.width,t.height),e.fill(),e.save();let l=t.chartData.wordCloudData;e.translate(t.width/2,t.height/2);for(let s=0;s<l.length;s++){e.save(),l[s].rotate&&e.rotate(90*Math.PI/180);let n=l[s].name,p=l[s].textSize*t.pix,c=G(n,p,e);e.beginPath(),e.setStrokeStyle(l[s].color),e.setFillStyle(l[s].color),e.setFontSize(p),l[s].rotate?l[s].areav[0]>0&&(t.tooltip&&t.tooltip.index==s?e.strokeText(n,(l[s].areav[0]+5-t.width/2)*o-c*(1-o)/2,(l[s].areav[1]+5+p-t.height/2)*o):e.fillText(n,(l[s].areav[0]+5-t.width/2)*o-c*(1-o)/2,(l[s].areav[1]+5+p-t.height/2)*o)):l[s].area[0]>0&&(t.tooltip&&t.tooltip.index==s?e.strokeText(n,(l[s].area[0]+5-t.width/2)*o-c*(1-o)/2,(l[s].area[1]+5+p-t.height/2)*o):e.fillText(n,(l[s].area[0]+5-t.width/2)*o-c*(1-o)/2,(l[s].area[1]+5+p-t.height/2)*o)),e.stroke(),e.restore()}e.restore()}function dr(a,t,r,e){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,i=k({},{type:"funnel",activeWidth:10,activeOpacity:.3,border:!1,borderWidth:2,borderColor:"#FFFFFF",fillOpacity:1,minSize:0,labelAlign:"right",linearType:"none",customColor:[]},t.extra.funnel),l=(t.height-t.area[0]-t.area[2])/a.length,s={x:t.area[3]+(t.width-t.area[1]-t.area[3])/2,y:t.height-t.area[2]},n=i.activeWidth*t.pix,p=Math.min((t.width-t.area[1]-t.area[3])/2-n,(t.height-t.area[0]-t.area[2])/2-n),c=Ma(a,p,i,l,o);if(e.save(),e.translate(s.x,s.y),i.customColor=nt(i.linearType,i.customColor,a,r),i.type=="pyramid")for(let x=0;x<c.length;x++){if(x==c.length-1){t.tooltip&&t.tooltip.index==x&&(e.beginPath(),e.setFillStyle(C(c[x].color,i.activeOpacity)),e.moveTo(-n,-l),e.lineTo(-c[x].radius-n,0),e.lineTo(c[x].radius+n,0),e.lineTo(n,-l),e.lineTo(-n,-l),e.closePath(),e.fill()),c[x].funnelArea=[s.x-c[x].radius,s.y-l*(x+1),s.x+c[x].radius,s.y-l*x],e.beginPath(),e.setLineWidth(i.borderWidth*t.pix),e.setStrokeStyle(i.borderColor);var h=C(c[x].color,i.fillOpacity);if(i.linearType=="custom"){var f=e.createLinearGradient(c[x].radius,-l,-c[x].radius,-l);f.addColorStop(0,C(c[x].color,i.fillOpacity)),f.addColorStop(.5,C(i.customColor[c[x].linearIndex],i.fillOpacity)),f.addColorStop(1,C(c[x].color,i.fillOpacity)),h=f}e.setFillStyle(h),e.moveTo(0,-l),e.lineTo(-c[x].radius,0),e.lineTo(c[x].radius,0),e.lineTo(0,-l),e.closePath(),e.fill(),i.border==!0&&e.stroke()}else{t.tooltip&&t.tooltip.index==x&&(e.beginPath(),e.setFillStyle(C(c[x].color,i.activeOpacity)),e.moveTo(0,0),e.lineTo(-c[x].radius-n,0),e.lineTo(-c[x+1].radius-n,-l),e.lineTo(c[x+1].radius+n,-l),e.lineTo(c[x].radius+n,0),e.lineTo(0,0),e.closePath(),e.fill()),c[x].funnelArea=[s.x-c[x].radius,s.y-l*(x+1),s.x+c[x].radius,s.y-l*x],e.beginPath(),e.setLineWidth(i.borderWidth*t.pix),e.setStrokeStyle(i.borderColor);var h=C(c[x].color,i.fillOpacity);if(i.linearType=="custom"){var f=e.createLinearGradient(c[x].radius,-l,-c[x].radius,-l);f.addColorStop(0,C(c[x].color,i.fillOpacity)),f.addColorStop(.5,C(i.customColor[c[x].linearIndex],i.fillOpacity)),f.addColorStop(1,C(c[x].color,i.fillOpacity)),h=f}e.setFillStyle(h),e.moveTo(0,0),e.lineTo(-c[x].radius,0),e.lineTo(-c[x+1].radius,-l),e.lineTo(c[x+1].radius,-l),e.lineTo(c[x].radius,0),e.lineTo(0,0),e.closePath(),e.fill(),i.border==!0&&e.stroke()}e.translate(0,-l)}else{e.translate(0,-(c.length-1)*l);for(let x=0;x<c.length;x++){if(x==c.length-1){t.tooltip&&t.tooltip.index==x&&(e.beginPath(),e.setFillStyle(C(c[x].color,i.activeOpacity)),e.moveTo(-n-i.minSize/2,0),e.lineTo(-c[x].radius-n,-l),e.lineTo(c[x].radius+n,-l),e.lineTo(n+i.minSize/2,0),e.lineTo(-n-i.minSize/2,0),e.closePath(),e.fill()),c[x].funnelArea=[s.x-c[x].radius,s.y-l,s.x+c[x].radius,s.y],e.beginPath(),e.setLineWidth(i.borderWidth*t.pix),e.setStrokeStyle(i.borderColor);var h=C(c[x].color,i.fillOpacity);if(i.linearType=="custom"){var f=e.createLinearGradient(c[x].radius,-l,-c[x].radius,-l);f.addColorStop(0,C(c[x].color,i.fillOpacity)),f.addColorStop(.5,C(i.customColor[c[x].linearIndex],i.fillOpacity)),f.addColorStop(1,C(c[x].color,i.fillOpacity)),h=f}e.setFillStyle(h),e.moveTo(0,0),e.lineTo(-i.minSize/2,0),e.lineTo(-c[x].radius,-l),e.lineTo(c[x].radius,-l),e.lineTo(i.minSize/2,0),e.lineTo(0,0),e.closePath(),e.fill(),i.border==!0&&e.stroke()}else{t.tooltip&&t.tooltip.index==x&&(e.beginPath(),e.setFillStyle(C(c[x].color,i.activeOpacity)),e.moveTo(0,0),e.lineTo(-c[x+1].radius-n,0),e.lineTo(-c[x].radius-n,-l),e.lineTo(c[x].radius+n,-l),e.lineTo(c[x+1].radius+n,0),e.lineTo(0,0),e.closePath(),e.fill()),c[x].funnelArea=[s.x-c[x].radius,s.y-l*(c.length-x),s.x+c[x].radius,s.y-l*(c.length-x-1)],e.beginPath(),e.setLineWidth(i.borderWidth*t.pix),e.setStrokeStyle(i.borderColor);var h=C(c[x].color,i.fillOpacity);if(i.linearType=="custom"){var f=e.createLinearGradient(c[x].radius,-l,-c[x].radius,-l);f.addColorStop(0,C(c[x].color,i.fillOpacity)),f.addColorStop(.5,C(i.customColor[c[x].linearIndex],i.fillOpacity)),f.addColorStop(1,C(c[x].color,i.fillOpacity)),h=f}e.setFillStyle(h),e.moveTo(0,0),e.lineTo(-c[x+1].radius,0),e.lineTo(-c[x].radius,-l),e.lineTo(c[x].radius,-l),e.lineTo(c[x+1].radius,0),e.lineTo(0,0),e.closePath(),e.fill(),i.border==!0&&e.stroke()}e.translate(0,l)}}return e.restore(),t.dataLabel!==!1&&o===1&&ur(c,t,e,l,i.labelAlign,n,s),o===1&&gr(c,t,e,l,i.labelAlign,n,s),{center:s,radius:p,series:c}}function ur(a,t,r,e,o,i,l){for(let s=0;s<a.length;s++){let n=a[s];if(n.labelShow===!1)continue;let p,c,h,f,x=n.formatter?n.formatter(n,s,a,t):ot.toFixed(n._proportion_*100)+"%";x=n.labelText?n.labelText:x,o=="right"&&(s==a.length-1?p=(n.funnelArea[2]+l.x)/2:p=(n.funnelArea[2]+a[s+1].funnelArea[2])/2,c=p+i*2,h=n.funnelArea[1]+e/2,f=n.textSize*t.pix||t.fontSize*t.pix,r.setLineWidth(1*t.pix),r.setStrokeStyle(n.color),r.setFillStyle(n.color),r.beginPath(),r.moveTo(p,h),r.lineTo(c,h),r.stroke(),r.closePath(),r.beginPath(),r.moveTo(c,h),r.arc(c,h,2*t.pix,0,2*Math.PI),r.closePath(),r.fill(),r.beginPath(),r.setFontSize(f),r.setFillStyle(n.textColor||t.fontColor),r.fillText(x,c+5,h+f/2-2),r.closePath(),r.stroke(),r.closePath()),o=="left"&&(s==a.length-1?p=(n.funnelArea[0]+l.x)/2:p=(n.funnelArea[0]+a[s+1].funnelArea[0])/2,c=p-i*2,h=n.funnelArea[1]+e/2,f=n.textSize*t.pix||t.fontSize*t.pix,r.setLineWidth(1*t.pix),r.setStrokeStyle(n.color),r.setFillStyle(n.color),r.beginPath(),r.moveTo(p,h),r.lineTo(c,h),r.stroke(),r.closePath(),r.beginPath(),r.moveTo(c,h),r.arc(c,h,2,0,2*Math.PI),r.closePath(),r.fill(),r.beginPath(),r.setFontSize(f),r.setFillStyle(n.textColor||t.fontColor),r.fillText(x,c-5-G(x,f,r),h+f/2-2),r.closePath(),r.stroke(),r.closePath())}}function gr(a,t,r,e,o,i,l){for(let s=0;s<a.length;s++){let n=a[s],p,c;n.centerText&&(p=n.funnelArea[1]+e/2,c=n.centerTextSize*t.pix||t.fontSize*t.pix,r.beginPath(),r.setFontSize(c),r.setFillStyle(n.centerTextColor||"#FFFFFF"),r.fillText(n.centerText,l.x-G(n.centerText,c,r)/2,p+c/2-2),r.closePath(),r.stroke(),r.closePath())}}function q(a,t){t.save(),t.translate(0,.5),t.restore(),t.draw()}var yr={easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},linear:function(t){return t}};function Y(a){this.isStop=!1,a.duration=typeof a.duration>"u"?1e3:a.duration,a.timing=a.timing||"easeInOut";var t=17;function r(){return typeof setTimeout<"u"?function(l,s){setTimeout(function(){var n=+new Date;l(n)},s)}:typeof requestAnimationFrame<"u"?requestAnimationFrame:function(l){l(null)}}var e=r(),o=null,i=function(s){if(s===null||this.isStop===!0){a.onProcess&&a.onProcess(1),a.onAnimationFinish&&a.onAnimationFinish();return}if(o===null&&(o=s),s-o<a.duration){var n=(s-o)/a.duration,p=yr[a.timing];n=p(n),a.onProcess&&a.onProcess(n),e(i,t)}else a.onProcess&&a.onProcess(1),a.onAnimationFinish&&a.onAnimationFinish()};i=i.bind(this),e(i,t)}Y.prototype.stop=function(){this.isStop=!0};function J(a,t,r,e){var o=this,i=t.series;(a==="pie"||a==="ring"||a==="mount"||a==="rose"||a==="funnel")&&(i=la(i,t));var l=t.categories;if(a==="mount"){l=[];for(let d=0;d<i.length;d++)i[d].show!==!1&&l.push(i[d].name);t.categories=l}i=wt(i,t,r);var s=t.animation?t.duration:0;o.animationInstance&&o.animationInstance.stop();var n=null;if(a=="candle"){let d=k({},t.extra.candle.average);d.show?(n=oa(d.day,d.name,d.color,i[0].data),n=wt(n,t,r),t.seriesMA=n):t.seriesMA?n=t.seriesMA=wt(t.seriesMA,t,r):n=i}else n=i;t._series_=i=ye(i),t.area=new Array(4);for(let d=0;d<4;d++)t.area[d]=t.padding[d]*t.pix;var p=Ta(n,t,r,t.chartData,e),c=p.area.wholeHeight,h=p.area.wholeWidth;switch(t.legend.position){case"top":t.area[0]+=c;break;case"bottom":t.area[2]+=c;break;case"left":t.area[3]+=h;break;case"right":t.area[1]+=h;break}let f={},x=0;if(t.type==="line"||t.type==="column"||t.type==="mount"||t.type==="area"||t.type==="mix"||t.type==="candle"||t.type==="scatter"||t.type==="bubble"||t.type==="bar"){if(f=zt(i,t,r,e),x=f.yAxisWidth,t.yAxis.showTitle){let g=0;for(let m=0;m<t.yAxis.data.length;m++)g=Math.max(g,t.yAxis.data[m].titleFontSize?t.yAxis.data[m].titleFontSize*t.pix:r.fontSize);t.area[0]+=g}let d=0,u=0;for(let g=0;g<x.length;g++)x[g].position=="left"?(u>0?t.area[3]+=x[g].width+t.yAxis.padding*t.pix:t.area[3]+=x[g].width,u+=1):x[g].position=="right"&&(d>0?t.area[1]+=x[g].width+t.yAxis.padding*t.pix:t.area[1]+=x[g].width,d+=1)}else r.yAxisWidth=x;if(t.chartData.yAxisData=f,t.categories&&t.categories.length&&t.type!=="radar"&&t.type!=="gauge"&&t.type!=="bar"){t.chartData.xAxisData=yt(t.categories,t);let d=Kt(t.categories,t,r,t.chartData.xAxisData.eachSpacing,e),u=d.xAxisHeight,g=d.angle;r.xAxisHeight=u,r._xAxisTextAngle_=g,t.area[2]+=u,t.chartData.categoriesData=d}else if(t.type==="line"||t.type==="area"||t.type==="scatter"||t.type==="bubble"||t.type==="bar"){t.chartData.xAxisData=wa(i,t,r,e),l=t.chartData.xAxisData.rangesFormat;let d=Kt(l,t,r,t.chartData.xAxisData.eachSpacing,e),u=d.xAxisHeight,g=d.angle;r.xAxisHeight=u,r._xAxisTextAngle_=g,t.area[2]+=u,t.chartData.categoriesData=d}else t.chartData.xAxisData={xAxisPoints:[]};if(t.enableScroll&&t.xAxis.scrollAlign=="right"&&t._scrollDistance_===void 0){let d=0,u=t.chartData.xAxisData.xAxisPoints,g=t.chartData.xAxisData.startX,m=t.chartData.xAxisData.endX,v=t.chartData.xAxisData.eachSpacing*(u.length-1);d=m-g-v,o.scrollOption.currentOffset=d,o.scrollOption.startTouchX=d,o.scrollOption.distance=0,o.scrollOption.lastMoveTime=0,t._scrollDistance_=d}switch((a==="pie"||a==="ring"||a==="rose")&&(r._pieTextMaxLength_=t.dataLabel===!1?0:ka(n,r,e,t)),a){case"word":this.animationInstance=new Y({timing:t.timing,duration:s,onProcess:function(d){e.clearRect(0,0,t.width,t.height),t.rotate&&U(e,t),pr(i,t,r,e,d),q(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"map":e.clearRect(0,0,t.width,t.height),fr(i,t,r,e),setTimeout(()=>{this.uevent.trigger("renderComplete")},50);break;case"funnel":this.animationInstance=new Y({timing:t.timing,duration:s,onProcess:function(d){e.clearRect(0,0,t.width,t.height),t.rotate&&U(e,t),t.chartData.funnelData=dr(i,t,r,e,d),K(t.series,t,r,e,t.chartData),Z(t,r,e,d),q(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"line":this.animationInstance=new Y({timing:t.timing,duration:s,onProcess:function(u){e.clearRect(0,0,t.width,t.height),t.rotate&&U(e,t),st(l,t,r,e),it(l,t,r,e);var g=er(i,t,r,e,u),m=g.xAxisPoints,y=g.calPoints,v=g.eachSpacing;t.chartData.xAxisPoints=m,t.chartData.calPoints=y,t.chartData.eachSpacing=v,at(i,t,r,e),t.enableMarkLine!==!1&&u===1&&et(t,r,e),K(t.series,t,r,e,t.chartData),Z(t,r,e,u),q(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"scatter":this.animationInstance=new Y({timing:t.timing,duration:s,onProcess:function(u){e.clearRect(0,0,t.width,t.height),t.rotate&&U(e,t),st(l,t,r,e),it(l,t,r,e);var g=Va(i,t,r,e,u),m=g.xAxisPoints,y=g.calPoints,v=g.eachSpacing;t.chartData.xAxisPoints=m,t.chartData.calPoints=y,t.chartData.eachSpacing=v,at(i,t,r,e),t.enableMarkLine!==!1&&u===1&&et(t,r,e),K(t.series,t,r,e,t.chartData),Z(t,r,e,u),q(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"bubble":this.animationInstance=new Y({timing:t.timing,duration:s,onProcess:function(u){e.clearRect(0,0,t.width,t.height),t.rotate&&U(e,t),st(l,t,r,e),it(l,t,r,e);var g=tr(i,t,r,e,u),m=g.xAxisPoints,y=g.calPoints,v=g.eachSpacing;t.chartData.xAxisPoints=m,t.chartData.calPoints=y,t.chartData.eachSpacing=v,at(i,t,r,e),t.enableMarkLine!==!1&&u===1&&et(t,r,e),K(t.series,t,r,e,t.chartData),Z(t,r,e,u),q(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"mix":this.animationInstance=new Y({timing:t.timing,duration:s,onProcess:function(u){e.clearRect(0,0,t.width,t.height),t.rotate&&U(e,t),st(l,t,r,e),it(l,t,r,e);var g=ir(i,t,r,e,u),m=g.xAxisPoints,y=g.calPoints,v=g.eachSpacing;t.chartData.xAxisPoints=m,t.chartData.calPoints=y,t.chartData.eachSpacing=v,at(i,t,r,e),t.enableMarkLine!==!1&&u===1&&et(t,r,e),K(t.series,t,r,e,t.chartData),Z(t,r,e,u),q(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"column":this.animationInstance=new Y({timing:t.timing,duration:s,onProcess:function(u){e.clearRect(0,0,t.width,t.height),t.rotate&&U(e,t),st(l,t,r,e),it(l,t,r,e);var g=qa(i,t,r,e,u),m=g.xAxisPoints,y=g.calPoints,v=g.eachSpacing;t.chartData.xAxisPoints=m,t.chartData.calPoints=y,t.chartData.eachSpacing=v,at(i,t,r,e),t.enableMarkLine!==!1&&u===1&&et(t,r,e),K(t.series,t,r,e,t.chartData),Z(t,r,e,u),q(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"mount":this.animationInstance=new Y({timing:t.timing,duration:s,onProcess:function(u){e.clearRect(0,0,t.width,t.height),t.rotate&&U(e,t),st(l,t,r,e),it(l,t,r,e);var g=Ja(i,t,r,e,u),m=g.xAxisPoints,y=g.calPoints,v=g.eachSpacing;t.chartData.xAxisPoints=m,t.chartData.calPoints=y,t.chartData.eachSpacing=v,at(i,t,r,e),t.enableMarkLine!==!1&&u===1&&et(t,r,e),K(t.series,t,r,e,t.chartData),Z(t,r,e,u),q(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"bar":this.animationInstance=new Y({timing:t.timing,duration:s,onProcess:function(u){e.clearRect(0,0,t.width,t.height),t.rotate&&U(e,t),it(l,t,r,e);var g=Ka(i,t,r,e,u),m=g.yAxisPoints,y=g.calPoints,v=g.eachSpacing;t.chartData.yAxisPoints=m,t.chartData.xAxisPoints=t.chartData.xAxisData.xAxisPoints,t.chartData.calPoints=y,t.chartData.eachSpacing=v,at(i,t,r,e),t.enableMarkLine!==!1&&u===1&&et(t,r,e),K(t.series,t,r,e,t.chartData),Z(t,r,e,u),q(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"area":this.animationInstance=new Y({timing:t.timing,duration:s,onProcess:function(u){e.clearRect(0,0,t.width,t.height),t.rotate&&U(e,t),st(l,t,r,e),it(l,t,r,e);var g=Qa(i,t,r,e,u),m=g.xAxisPoints,y=g.calPoints,v=g.eachSpacing;t.chartData.xAxisPoints=m,t.chartData.calPoints=y,t.chartData.eachSpacing=v,at(i,t,r,e),t.enableMarkLine!==!1&&u===1&&et(t,r,e),K(t.series,t,r,e,t.chartData),Z(t,r,e,u),q(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"ring":this.animationInstance=new Y({timing:t.timing,duration:s,onProcess:function(u){e.clearRect(0,0,t.width,t.height),t.rotate&&U(e,t),t.chartData.pieData=ae(i,t,r,e,u),K(t.series,t,r,e,t.chartData),Z(t,r,e,u),q(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"pie":this.animationInstance=new Y({timing:t.timing,duration:s,onProcess:function(u){e.clearRect(0,0,t.width,t.height),t.rotate&&U(e,t),t.chartData.pieData=ae(i,t,r,e,u),K(t.series,t,r,e,t.chartData),Z(t,r,e,u),q(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"rose":this.animationInstance=new Y({timing:t.timing,duration:s,onProcess:function(u){e.clearRect(0,0,t.width,t.height),t.rotate&&U(e,t),t.chartData.pieData=ar(i,t,r,e,u),K(t.series,t,r,e,t.chartData),Z(t,r,e,u),q(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"radar":this.animationInstance=new Y({timing:t.timing,duration:s,onProcess:function(u){e.clearRect(0,0,t.width,t.height),t.rotate&&U(e,t),t.chartData.radarData=nr(i,t,r,e,u),K(t.series,t,r,e,t.chartData),Z(t,r,e,u),q(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"arcbar":this.animationInstance=new Y({timing:t.timing,duration:s,onProcess:function(u){e.clearRect(0,0,t.width,t.height),t.rotate&&U(e,t),t.chartData.arcbarData=rr(i,t,r,e,u),q(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"gauge":this.animationInstance=new Y({timing:t.timing,duration:s,onProcess:function(u){e.clearRect(0,0,t.width,t.height),t.rotate&&U(e,t),t.chartData.gaugeData=or(l,i,t,r,e,u),q(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"candle":this.animationInstance=new Y({timing:t.timing,duration:s,onProcess:function(u){e.clearRect(0,0,t.width,t.height),t.rotate&&U(e,t),st(l,t,r,e),it(l,t,r,e);var g=Za(i,n,t,r,e,u),m=g.xAxisPoints,y=g.calPoints,v=g.eachSpacing;t.chartData.xAxisPoints=m,t.chartData.calPoints=y,t.chartData.eachSpacing=v,at(i,t,r,e),t.enableMarkLine!==!1&&u===1&&et(t,r,e),K(n||t.series,t,r,e,t.chartData),Z(t,r,e,u),q(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break}}function Pt(){this.events={}}Pt.prototype.addEventListener=function(a,t){this.events[a]=this.events[a]||[],this.events[a].push(t)};Pt.prototype.delEventListener=function(a){this.events[a]=[]};Pt.prototype.trigger=function(){for(var a=arguments.length,t=Array(a),r=0;r<a;r++)t[r]=arguments[r];var e=t[0],o=t.slice(1);this.events[e]&&this.events[e].forEach(function(i){try{i.apply(null,o)}catch{}})};var Q=function(t){t.pix=t.pixelRatio?t.pixelRatio:1,t.fontSize=t.fontSize?t.fontSize:13,t.fontColor=t.fontColor?t.fontColor:dt.fontColor,(t.background==""||t.background=="none")&&(t.background="#FFFFFF"),t.title=k({},t.title),t.subtitle=k({},t.subtitle),t.duration=t.duration?t.duration:1e3,t.yAxis=k({},{data:[],showTitle:!1,disabled:!1,disableGrid:!1,gridSet:"number",splitNumber:5,gridType:"solid",dashLength:4*t.pix,gridColor:"#cccccc",padding:10,fontColor:"#666666"},t.yAxis),t.xAxis=k({},{rotateLabel:!1,rotateAngle:45,disabled:!1,disableGrid:!1,splitNumber:5,calibration:!1,fontColor:"#666666",fontSize:13,lineHeight:20,marginTop:0,gridType:"solid",dashLength:4,scrollAlign:"left",boundaryGap:"center",axisLine:!0,axisLineColor:"#cccccc",titleFontSize:13,titleOffsetY:0,titleOffsetX:0,titleFontColor:"#666666"},t.xAxis),t.xAxis.scrollPosition=t.xAxis.scrollAlign,t.legend=k({},{show:!0,position:"bottom",float:"center",backgroundColor:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",borderWidth:0,padding:5,margin:5,itemGap:10,fontSize:t.fontSize,lineHeight:t.fontSize,fontColor:t.fontColor,formatter:{},hiddenColor:"#CECECE"},t.legend),t.extra=k({tooltip:{legendShape:"auto"}},t.extra),t.rotate=!!t.rotate,t.animation=!!t.animation,t.rotate=!!t.rotate,t.canvas2d=!!t.canvas2d;let r=k({},dt);if(r.color=t.color?t.color:r.color,t.type=="pie"&&(r.pieChartLinePadding=t.dataLabel===!1?0:t.extra.pie.labelWidth*t.pix||r.pieChartLinePadding*t.pix),t.type=="ring"&&(r.pieChartLinePadding=t.dataLabel===!1?0:t.extra.ring.labelWidth*t.pix||r.pieChartLinePadding*t.pix),t.type=="rose"&&(r.pieChartLinePadding=t.dataLabel===!1?0:t.extra.rose.labelWidth*t.pix||r.pieChartLinePadding*t.pix),r.pieChartTextPadding=t.dataLabel===!1?0:r.pieChartTextPadding*t.pix,r.rotate=t.rotate,t.rotate){let e=t.width,o=t.height;t.width=o,t.height=e}if(t.padding=t.padding?t.padding:r.padding,r.yAxisWidth=dt.yAxisWidth*t.pix,r.fontSize=t.fontSize*t.pix,r.titleFontSize=dt.titleFontSize*t.pix,r.subtitleFontSize=dt.subtitleFontSize*t.pix,!t.context)throw new Error("[uCharts] 未获取到context！注意：v2.0版本后，需要自行获取canvas的绘图上下文并传入opts.context！");this.context=t.context,this.context.setTextAlign||(this.context.setStrokeStyle=function(e){return this.strokeStyle=e},this.context.setLineWidth=function(e){return this.lineWidth=e},this.context.setLineCap=function(e){return this.lineCap=e},this.context.setFontSize=function(e){return this.font=e+"px sans-serif"},this.context.setFillStyle=function(e){return this.fillStyle=e},this.context.setTextAlign=function(e){return this.textAlign=e},this.context.setTextBaseline=function(e){return this.textBaseline=e},this.context.setShadow=function(e,o,i,l){this.shadowColor=l,this.shadowOffsetX=e,this.shadowOffsetY=o,this.shadowBlur=i},this.context.draw=function(){}),this.context.setLineDash||(this.context.setLineDash=function(e){}),t.chartData={},this.uevent=new Pt,this.scrollOption={currentOffset:0,startTouchX:0,distance:0,lastMoveTime:0},this.opts=t,this.config=r,J.call(this,t.type,t,r,this.context)};Q.prototype.updateData=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(this.opts=k({},this.opts,a),this.opts.updateData=!0,a.scrollPosition||"current"){case"current":this.opts._scrollDistance_=this.scrollOption.currentOffset;break;case"left":this.opts._scrollDistance_=0,this.scrollOption={currentOffset:0,startTouchX:0,distance:0,lastMoveTime:0};break;case"right":let r=zt(this.opts.series,this.opts,this.config,this.context),e=r.yAxisWidth;this.config.yAxisWidth=e;let o=0,i=yt(this.opts.categories,this.opts,this.config),l=i.xAxisPoints,s=i.startX,n=i.endX,c=i.eachSpacing*(l.length-1);o=n-s-c,this.scrollOption={currentOffset:o,startTouchX:o,distance:0,lastMoveTime:0},this.opts._scrollDistance_=o;break}J.call(this,this.opts.type,this.opts,this.config,this.context)};Q.prototype.zoom=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.opts.xAxis.itemCount;if(this.opts.enableScroll!==!0){console.log("[uCharts] 请启用滚动条后使用");return}let t=Math.round(Math.abs(this.scrollOption.currentOffset)/this.opts.chartData.eachSpacing)+Math.round(this.opts.xAxis.itemCount/2);this.opts.animation=!1,this.opts.xAxis.itemCount=a.itemCount;let r=zt(this.opts.series,this.opts,this.config,this.context),e=r.yAxisWidth;this.config.yAxisWidth=e;let o=0,i=yt(this.opts.categories,this.opts,this.config),l=i.xAxisPoints,s=i.startX,n=i.endX,p=i.eachSpacing,c=p*t,h=n-s,f=h-p*(l.length-1);o=h/2-c,o>0&&(o=0),o<f&&(o=f),this.scrollOption={currentOffset:o,startTouchX:0,distance:0,lastMoveTime:0},kt(this,o,this.opts.chartData,this.config,this.opts),this.opts._scrollDistance_=o,J.call(this,this.opts.type,this.opts,this.config,this.context)};Q.prototype.dobuleZoom=function(a){if(this.opts.enableScroll!==!0){console.log("[uCharts] 请启用滚动条后使用");return}const t=a.changedTouches;if(t.length<2)return;for(var r=0;r<t.length;r++)t[r].x=t[r].x?t[r].x:t[r].clientX,t[r].y=t[r].y?t[r].y:t[r].clientY;const e=[ct(t[0],this.opts,a),ct(t[1],this.opts,a)],o=Math.abs(e[0].x-e[1].x);if(!this.scrollOption.moveCount){let g={changedTouches:[{x:t[0].x,y:this.opts.area[0]/this.opts.pix+2}]},m={changedTouches:[{x:t[1].x,y:this.opts.area[0]/this.opts.pix+2}]};this.opts.rotate&&(g={changedTouches:[{x:this.opts.height/this.opts.pix-this.opts.area[0]/this.opts.pix-2,y:t[0].y}]},m={changedTouches:[{x:this.opts.height/this.opts.pix-this.opts.area[0]/this.opts.pix-2,y:t[1].y}]});const y=this.getCurrentDataIndex(g).index,v=this.getCurrentDataIndex(m).index,T=Math.abs(y-v);this.scrollOption.moveCount=T,this.scrollOption.moveCurrent1=Math.min(y,v),this.scrollOption.moveCurrent2=Math.max(y,v);return}let i=o/this.scrollOption.moveCount,l=(this.opts.width-this.opts.area[1]-this.opts.area[3])/i;l=l<=2?2:l,l=l>=this.opts.categories.length?this.opts.categories.length:l,this.opts.animation=!1,this.opts.xAxis.itemCount=l;let s=0,n=yt(this.opts.categories,this.opts,this.config),p=n.xAxisPoints,c=n.startX,h=n.endX,f=n.eachSpacing,x=f*this.scrollOption.moveCurrent1,u=h-c-f*(p.length-1);s=-x+Math.min(e[0].x,e[1].x)-this.opts.area[3]-f,s>0&&(s=0),s<u&&(s=u),this.scrollOption.currentOffset=s,this.scrollOption.startTouchX=0,this.scrollOption.distance=0,kt(this,s,this.opts.chartData,this.config,this.opts),this.opts._scrollDistance_=s,J.call(this,this.opts.type,this.opts,this.config,this.context)};Q.prototype.stopAnimation=function(){this.animationInstance&&this.animationInstance.stop()};Q.prototype.addEventListener=function(a,t){this.uevent.addEventListener(a,t)};Q.prototype.delEventListener=function(a){this.uevent.delEventListener(a)};Q.prototype.getCurrentDataIndex=function(a){var t=null;if(a.changedTouches?t=a.changedTouches[0]:t=a.mp.changedTouches[0],t){let r=ct(t,this.opts,a);return this.opts.type==="pie"||this.opts.type==="ring"?Aa({x:r.x,y:r.y},this.opts.chartData.pieData,this.opts):this.opts.type==="rose"?ba({x:r.x,y:r.y},this.opts.chartData.pieData,this.opts):this.opts.type==="radar"?ya({x:r.x,y:r.y},this.opts.chartData.radarData,this.opts.categories.length):this.opts.type==="funnel"?ma({x:r.x,y:r.y},this.opts.chartData.funnelData):this.opts.type==="map"?Sa({x:r.x,y:r.y},this.opts):this.opts.type==="word"?va({x:r.x,y:r.y},this.opts.chartData.wordCloudData):this.opts.type==="bar"?da({x:r.x,y:r.y},this.opts.chartData.calPoints,this.opts,this.config,Math.abs(this.scrollOption.currentOffset)):pa({x:r.x,y:r.y},this.opts.chartData.calPoints,this.opts,this.config,Math.abs(this.scrollOption.currentOffset))}return-1};Q.prototype.getLegendDataIndex=function(a){var t=null;if(a.changedTouches?t=a.changedTouches[0]:t=a.mp.changedTouches[0],t){let r=ct(t,this.opts,a);return ua({x:r.x,y:r.y},this.opts.chartData.legendData)}return-1};Q.prototype.touchLegend=function(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=null;if(a.changedTouches?r=a.changedTouches[0]:r=a.mp.changedTouches[0],r){ct(r,this.opts,a);var e=this.getLegendDataIndex(a);e>=0&&(this.opts.type=="candle"?this.opts.seriesMA[e].show=!this.opts.seriesMA[e].show:this.opts.series[e].show=!this.opts.series[e].show,this.opts.animation=!!t.animation,this.opts._scrollDistance_=this.scrollOption.currentOffset,J.call(this,this.opts.type,this.opts,this.config,this.context))}};Q.prototype.showToolTip=function(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=null;a.changedTouches?r=a.changedTouches[0]:r=a.mp.changedTouches[0],r||console.log("[uCharts] 未获取到event坐标信息");var e=ct(r,this.opts,a),o=this.scrollOption.currentOffset,i=k({},this.opts,{_scrollDistance_:o,animation:!1});if(this.opts.type==="line"||this.opts.type==="area"||this.opts.type==="column"||this.opts.type==="scatter"||this.opts.type==="bubble"){var l=this.getCurrentDataIndex(a),s=t.index==null?l.index:t.index;if(s>-1||s.length>0){var n=ut(this.opts.series,s,l.group);if(n.length!==0){var p=Jt(n,this.opts,s,l.group,this.opts.categories,t),c=p.textList,h=p.offset;h.y=e.y,i.tooltip={textList:t.textList!==void 0?t.textList:c,offset:t.offset!==void 0?t.offset:h,option:t,index:s,group:l.group}}}J.call(this,i.type,i,this.config,this.context)}if(this.opts.type==="mount"){var s=t.index==null?this.getCurrentDataIndex(a).index:t.index;if(s>-1){var i=k({},this.opts,{animation:!1}),n=k({},i._series_[s]),c=[{text:t.formatter?t.formatter(n,void 0,s,i):n.name+": "+n.data,color:n.color,legendShape:this.opts.extra.tooltip.legendShape=="auto"?n.legendShape:this.opts.extra.tooltip.legendShape}],h={x:i.chartData.calPoints[s].x,y:e.y};i.tooltip={textList:t.textList?t.textList:c,offset:t.offset!==void 0?t.offset:h,option:t,index:s}}J.call(this,i.type,i,this.config,this.context)}if(this.opts.type==="bar"){var l=this.getCurrentDataIndex(a),s=t.index==null?l.index:t.index;if(s>-1||s.length>0){var n=ut(this.opts.series,s,l.group);if(n.length!==0){var p=Jt(n,this.opts,s,l.group,this.opts.categories,t),c=p.textList,h=p.offset;h.x=e.x,i.tooltip={textList:t.textList!==void 0?t.textList:c,offset:t.offset!==void 0?t.offset:h,option:t,index:s}}}J.call(this,i.type,i,this.config,this.context)}if(this.opts.type==="mix"){var l=this.getCurrentDataIndex(a),s=t.index==null?l.index:t.index;if(s>-1){var o=this.scrollOption.currentOffset,i=k({},this.opts,{_scrollDistance_:o,animation:!1}),n=ut(this.opts.series,s);if(n.length!==0){var f=fa(n,this.opts,s,this.opts.categories,t),c=f.textList,h=f.offset;h.y=e.y,i.tooltip={textList:t.textList?t.textList:c,offset:t.offset!==void 0?t.offset:h,option:t,index:s}}}J.call(this,i.type,i,this.config,this.context)}if(this.opts.type==="candle"){var l=this.getCurrentDataIndex(a),s=t.index==null?l.index:t.index;if(s>-1){var o=this.scrollOption.currentOffset,i=k({},this.opts,{_scrollDistance_:o,animation:!1}),n=ut(this.opts.series,s);if(n.length!==0){var p=xa(this.opts.series[0].data,n,this.opts,s,this.opts.categories,this.opts.extra.candle),c=p.textList,h=p.offset;h.y=e.y,i.tooltip={textList:t.textList?t.textList:c,offset:t.offset!==void 0?t.offset:h,option:t,index:s}}}J.call(this,i.type,i,this.config,this.context)}if(this.opts.type==="pie"||this.opts.type==="ring"||this.opts.type==="rose"||this.opts.type==="funnel"){var s=t.index==null?this.getCurrentDataIndex(a):t.index;if(s>-1){var i=k({},this.opts,{animation:!1}),n=k({},i._series_[s]),c=[{text:t.formatter?t.formatter(n,void 0,s,i):n.name+": "+n.data,color:n.color,legendShape:this.opts.extra.tooltip.legendShape=="auto"?n.legendShape:this.opts.extra.tooltip.legendShape}],h={x:e.x,y:e.y};i.tooltip={textList:t.textList?t.textList:c,offset:t.offset!==void 0?t.offset:h,option:t,index:s}}J.call(this,i.type,i,this.config,this.context)}if(this.opts.type==="map"){var s=t.index==null?this.getCurrentDataIndex(a):t.index;if(s>-1){var i=k({},this.opts,{animation:!1}),n=k({},this.opts.series[s]);n.name=n.properties.name;var c=[{text:t.formatter?t.formatter(n,void 0,s,this.opts):n.name,color:n.color,legendShape:this.opts.extra.tooltip.legendShape=="auto"?n.legendShape:this.opts.extra.tooltip.legendShape}],h={x:e.x,y:e.y};i.tooltip={textList:t.textList?t.textList:c,offset:t.offset!==void 0?t.offset:h,option:t,index:s}}i.updateData=!1,J.call(this,i.type,i,this.config,this.context)}if(this.opts.type==="word"){var s=t.index==null?this.getCurrentDataIndex(a):t.index;if(s>-1){var i=k({},this.opts,{animation:!1}),n=k({},this.opts.series[s]),c=[{text:t.formatter?t.formatter(n,void 0,s,this.opts):n.name,color:n.color,legendShape:this.opts.extra.tooltip.legendShape=="auto"?n.legendShape:this.opts.extra.tooltip.legendShape}],h={x:e.x,y:e.y};i.tooltip={textList:t.textList?t.textList:c,offset:t.offset!==void 0?t.offset:h,option:t,index:s}}i.updateData=!1,J.call(this,i.type,i,this.config,this.context)}if(this.opts.type==="radar"){var s=t.index==null?this.getCurrentDataIndex(a):t.index;if(s>-1){var i=k({},this.opts,{animation:!1}),n=ut(this.opts.series,s);if(n.length!==0){var c=n.map(y=>({text:t.formatter?t.formatter(y,this.opts.categories[s],s,this.opts):y.name+": "+y.data,color:y.color,legendShape:this.opts.extra.tooltip.legendShape=="auto"?y.legendShape:this.opts.extra.tooltip.legendShape})),h={x:e.x,y:e.y};i.tooltip={textList:t.textList?t.textList:c,offset:t.offset!==void 0?t.offset:h,option:t,index:s}}}J.call(this,i.type,i,this.config,this.context)}};Q.prototype.translate=function(a){this.scrollOption={currentOffset:a,startTouchX:a,distance:0,lastMoveTime:0};let t=k({},this.opts,{_scrollDistance_:a,animation:!1});J.call(this,this.opts.type,t,this.config,this.context)};Q.prototype.scrollStart=function(a){var t=null;a.changedTouches?t=a.changedTouches[0]:t=a.mp.changedTouches[0];var r=ct(t,this.opts,a);t&&this.opts.enableScroll===!0&&(this.scrollOption.startTouchX=r.x)};Q.prototype.scroll=function(a){this.scrollOption.lastMoveTime===0&&(this.scrollOption.lastMoveTime=Date.now());let t=this.opts.touchMoveLimit||60,r=Date.now();if(!(r-this.scrollOption.lastMoveTime<Math.floor(1e3/t))&&this.scrollOption.startTouchX!=0){this.scrollOption.lastMoveTime=r;var o=null;if(a.changedTouches?o=a.changedTouches[0]:o=a.mp.changedTouches[0],o&&this.opts.enableScroll===!0){var i=ct(o,this.opts,a),l;l=i.x-this.scrollOption.startTouchX;var s=this.scrollOption.currentOffset,n=kt(this,s+l,this.opts.chartData,this.config,this.opts);this.scrollOption.distance=l=n-s;var p=k({},this.opts,{_scrollDistance_:s+l,animation:!1});return this.opts=p,J.call(this,p.type,p,this.config,this.context),s+l}}};Q.prototype.scrollEnd=function(a){if(this.opts.enableScroll===!0){var t=this.scrollOption,r=t.currentOffset,e=t.distance;this.scrollOption.currentOffset=r+e,this.scrollOption.distance=0,this.scrollOption.moveCount=0}};const mr={class:"canvas-chart-container"},vr={options:{virtualHost:!0}},Sr=Ie({...vr,__name:"index",props:{opts:{},chartData:{},type:{}},setup(a){const t=a,r=Bt(375),e=Bt(250),o={};Oe(()=>{if(!t.chartData)return;s();const p=ra(t.chartData);l("myid",p)});let i=null;function l(p,c){c&&(i=uni.createCanvasContext(p),console.log("data",c),o[p]=new Q({type:t.type,context:i,animation:!0,type2d:!0,width:r.value,height:e.value,...t.opts,...c}))}function s(){i&&typeof i=="object"&&(i.clearRect(0,0,r.value,e.value),i.draw())}const n=p=>{o[p.target.id].touchLegend(p),o[p.target.id].showToolTip(p)};return ze(()=>{r.value=uni.upx2px(750),e.value=uni.upx2px(500)}),(p,c)=>(Ee(),Re("div",mr,[We("canvas",{"canvas-id":"myid",id:"myid",class:"charts",onTap:n},null,32)]))}}),Tr=Be(Sr,[["__scopeId","data-v-ca570e79"]]);export{Tr as default};
