import{a as r,i as k}from"./format.B9x3PRfW.js";import{c as S}from"./create.BCteNkO5.js";import{_ as c}from"./index.vue_vue_type_style_index_0_lang.wdkJ4pUc.js";import{d as B,s as u,v as b,h as m,o as a,c as o,n as l,k as n,I as z,e as I,r as E,P as $,j as w,b as L,_ as N}from"./framework.DZLrHpBd.js";import"./Uint8Array.s5ylH1oV.js";const U={key:1},C=["mode","src","alt"],H={name:"rl-image",options:{styleIsolation:"apply-shared",virtualHost:!0,multipleSlots:!0}},P=B({...H,props:{round:{type:Boolean},block:{type:Boolean},src:{},mode:{default:"scaleToFill"},size:{},width:{default:300},height:{default:225},radius:{},errIcon:{type:Boolean},alt:{},prefix:{type:Boolean,default:!0},eduPrefix:{type:Boolean}},setup(f){const[R,t]=S("image"),p="undefined/images",y="undefined/images",e=f,i=u(!0),_=s=>{s&&(i.value=!1)},d=u(!1);b(()=>e.src,()=>{d.value=!1});const h=()=>{d.value=!0,i.value=!1},v=m(()=>{var s;return e.src&&((s=e.src)==null?void 0:s[0])!=="/"?e.src:e.eduPrefix?`${y}${e.src}`:e.prefix?`${p}${e.src}`:e.src}),g=m(()=>{let s={width:e.size?r(e.size):r(e.width),height:e.size?r(e.size):r(e.height)};return k(e.radius)&&(s.overflow="hidden",s.borderRadius=r(e.radius)),s});return(s,T)=>(a(),o("div",{class:l(n(t)({round:s.round,block:s.block})),style:$(g.value)},[i.value?(a(),o("div",{key:0,class:l(n(t)("loading"))},[z(c,{spin:"",type:"LoadingOutlined"})],2)):I("",!0),d.value?(a(),o("div",{key:1,class:l(n(t)("error"))},[E(s.$slots,"error",{},()=>[w("div",null,[s.errIcon?(a(),L(c,{key:0,type:"no-image"})):(a(),o("span",U,"加载失败"))])],!0)],2)):(a(),o("image",{key:2,onLoad:_,onError:h,class:l(n(t)("img")),mode:s.mode,src:v.value,alt:s.alt},null,42,C))],6))}}),F=N(P,[["__scopeId","data-v-cb542615"]]);export{F as default};
