import{P as t,d as e,M as a,K as s,Q as l,c as n,R as i,S as r,o,b as c,u as d,k as u,p as g,m as h,s as f,l as p,a as v,w as y,h as m,t as x,g as b,T as B,U as _,V as k,x as w,y as P,j as C,L as H,e as R,f as I}from"./index-2b5430ec.js";import{i as L,a as j,q as S,r as T,s as $,t as A,u as W,v as O,h as D,g as U,I as z,f as M,o as q,j as K,e as Q,p as V}from"./pages.30165609.js";var Y=Object.prototype.hasOwnProperty;const E=Q(e({name:"rl-nav-bar",options:{virtualHost:!0,multipleSlots:!0},props:{leftStyle:{default:{"--rl-button-link-color":"var(--rl-nav-bar-color)"}},leftText:{},autoBack:{type:Boolean},switchTab:{},title:{},fixed:{type:Boolean},bgImg:{},bgColor:{},arrow:{type:Boolean,default:!0},rightIcon:{},leftDisabled:{type:Boolean},onLeftClick:{}},emits:["rightClick"],setup(e,{emit:C}){const H=a("rl-statusBarHeight",null),[R,I]=K("nav-bar"),Q=e,V=C,E=s({height:0,statusBarHeight:0,navBarHeight:0,navPaddingRight:0,leftWidth:0});let F;l((async()=>{F=P(),await((t=30)=>new Promise((e=>{setTimeout((()=>{e(!0)}),t)})))(20);const t=await G();E.leftWidth=t.left+t.width}));const G=()=>new Promise((e=>{var a;(a="rl-nav-bar__content__left",new Promise((e=>{((e,a,s)=>new Promise((l=>{t().in(a)[s?"selectAll":"select"](e).boundingClientRect((t=>{s&&Array.isArray(t)&&t.length&&l(t),!s&&t&&l(t)})).exec()})))(`.${a}`,F).then((t=>{e(t)}))}))).then((t=>e(t)))}));const J=n((()=>{const t={maxWidth:`calc(100% - ${E.navPaddingRight+E.leftWidth}px)`};return Q.title||(t.marginRight=E.navPaddingRight+"px",t.marginLeft=E.leftWidth+"px"),t})),N=n((()=>({paddingRight:E.navPaddingRight+"px",maxWidth:`calc(100% - ${E.navPaddingRight}px)`})));i((()=>{r({success:t=>{let e=t.statusBarHeight;e=0,E.statusBarHeight=0,E.height=46,E.navBarHeight=46,Q.fixed&&D(null==H?void 0:H.value)&&(H.value=46)}})}));const X=()=>{V("rightClick")},Z=async()=>{if(Q.leftDisabled||!Q.arrow)return;let t=!0;Q.onLeftClick&&(t=await Q.onLeftClick()),t&&(1===B().length||function(t){if(null==t)return!0;if(L(t)&&(j(t)||"string"==typeof t||"function"==typeof t.splice||S(t)||T(t)||$(t)))return!t.length;var e=A(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(W(t))return!O(t).length;for(var a in t)if(Y.call(t,a))return!1;return!0}(B())?_({url:"/"}):k())};return(t,e)=>{const a=w;return o(),c("div",{class:u(d(R))},[t.fixed&&!d(D)(d(H))?(o(),c("div",{key:0,class:u(d(I)("placeholder")),style:g({height:d(U)(E.height)})},null,6)):h("",!0),f("div",{class:u(d(I)("wrapper",{fixed:t.fixed})),style:g(d(q)({background:t.bgColor}))},[f("div",{style:g({height:d(U)(E.statusBarHeight)})},null,4),f("div",{class:u(d(I)("content")),style:g({height:d(U)(E.navBarHeight)})},[f("div",{onClick:Z,class:u(d(I)("content__left"))},[p(t.$slots,"left",{},(()=>[t.arrow||t.leftText?(o(),v(M,{key:0,disabled:t.leftDisabled,customStyle:t.leftStyle,type:"link",size:"mini"},{default:y((()=>[f("span",{class:u(d(I)("content__left__text"))},[t.arrow?(o(),v(z,{key:0,type:"LeftOutline"})):h("",!0),t.leftText?(o(),v(a,{key:1},{default:y((()=>[m(x(t.leftText),1)])),_:1})):h("",!0)],2)])),_:1},8,["disabled","customStyle"])):h("",!0)]),!0)],2),f("div",{class:u(d(I)("content__title")),style:g(J.value)},[p(t.$slots,"center",{},(()=>[b(a,{class:u(["text-line-1"])},{default:y((()=>[m(x(t.title),1)])),_:1})]),!0)],6),f("div",{onClick:X,class:u(d(I)("content__right")),style:g(N.value)},[p(t.$slots,"right",{},(()=>[t.rightIcon?(o(),v(z,{key:0,type:t.rightIcon},null,8,["type"])):h("",!0)]),!0)],6)],6)],6)],2)}}}),[["__scopeId","data-v-d803cef2"]]),F=Q(e({__name:"Layout",props:{backgroundImageUrl:{},eduBackgroundImageUrl:{},statusBar:{type:Boolean},safeAreaBottom:{type:Boolean}},setup(t,{expose:e}){const[a,s]=K("page-container"),i=C(!0),r=C(0),h=C(!0);H("rl-statusBarHeight",r),H("pageOverflow",h),H("pageReady",i);const v=B(),y=n((()=>{const t=(e=v,a=null==e?0:e.length,a?e[a-1]:void 0).route;var e,a;const s=V.pages.find((e=>e.path===t));return(null==s?void 0:s.name)||""})),m=n((()=>({}))),x=n((()=>({overflowY:h.value?"auto":"hidden"})));return l((async()=>{})),e({loading:i}),(t,e)=>{const a=R(I("rl-navbar"),E);return o(),c("div",{class:u(d(s)({statusBar:t.statusBar,safeAreaBottom:t.safeAreaBottom})),style:g([m.value])},[f("div",{style:g({height:r.value+"px"})},null,4),b(a,{title:y.value,fixed:""},null,8,["title"]),f("div",{class:u(d(s)("content")),style:g(x.value)},[p(t.$slots,"default",{},void 0,!0)],6)],6)}}}),[["__scopeId","data-v-1802bb0a"]]);export{F as L};
