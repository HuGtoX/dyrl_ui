import{d as e,j as s,c as a,D as l,o,b as r,k as t,u as i,g as n,m as u,l as d,s as c,a as p,p as v,q as m}from"./index-53071e66.js";import{g as y,h as g,I as h,j as f,e as z}from"./pages.7b0ea6f9.js";const k=z(e({name:"rl-image",options:{styleIsolation:"apply-shared",virtualHost:!0,multipleSlots:!0},props:{round:{type:Boolean},block:{type:Boolean},src:{},mode:{default:"scaleToFill"},size:{},width:{default:300},height:{default:225},radius:{},errIcon:{type:Boolean},alt:{},prefix:{type:Boolean},eduPrefix:{type:Boolean}},setup(e){const[z,k]=f("image"),b={}.VITE_ASSETS_URL+"/images",I=e,x=s(!0),B=e=>{e&&(x.value=!1)},S=s(!1),_=a((()=>{let e=14;return I.size&&Number(I.size)>42&&(e=18),e}));l((()=>I.src),(()=>{S.value=!1}));const j=()=>{S.value=!0,x.value=!1},w=a((()=>{var e;return I.src&&"/"!==(null==(e=I.src)?void 0:e[0])?I.src:I.prefix?`${b}${I.src}`:I.src})),$=a((()=>{let e={width:I.size?y(I.size):y(I.width),height:I.size?y(I.size):y(I.height)};return g(I.radius)&&(e.overflow="hidden",e.borderRadius=y(I.radius)),e}));return(e,s)=>{const a=m;return o(),r("div",{class:t(i(k)({round:e.round,block:e.block})),style:v($.value)},[x.value?(o(),r("div",{key:0,class:t(i(k)("loading"))},[n(h,{spin:"",type:"LoadingOutlined"})],2)):u("",!0),S.value?(o(),r("div",{key:1,class:t(i(k)("error"))},[d(e.$slots,"error",{},(()=>[c("div",null,[e.errIcon?(o(),p(h,{key:0,size:_.value,type:"no-image"},null,8,["size"])):(o(),r("span",{key:1,style:v({fontSize:`${_.value}`})},"加载失败",4))])]),!0)],2)):(o(),p(a,{key:2,onLoad:B,onError:j,class:t(i(k)("img")),mode:e.mode,src:w.value,alt:e.alt},null,8,["class","mode","src","alt"]))],6)}}}),[["__scopeId","data-v-07406fbe"]]);export{k as _};
